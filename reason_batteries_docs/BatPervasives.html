<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="BatPathGen.html">
<link rel="next" href="BatPrintexc.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="BatArray" rel="Chapter" href="BatArray.html">
<link title="BatAvlTree" rel="Chapter" href="BatAvlTree.html">
<link title="BatBase64" rel="Chapter" href="BatBase64.html">
<link title="BatBig_int" rel="Chapter" href="BatBig_int.html">
<link title="BatBigarray" rel="Chapter" href="BatBigarray.html">
<link title="BatBitSet" rel="Chapter" href="BatBitSet.html">
<link title="BatBool" rel="Chapter" href="BatBool.html">
<link title="BatBounded" rel="Chapter" href="BatBounded.html">
<link title="BatBuffer" rel="Chapter" href="BatBuffer.html">
<link title="BatBytes" rel="Chapter" href="BatBytes.html">
<link title="BatCache" rel="Chapter" href="BatCache.html">
<link title="BatChar" rel="Chapter" href="BatChar.html">
<link title="BatCharParser" rel="Chapter" href="BatCharParser.html">
<link title="BatComplex" rel="Chapter" href="BatComplex.html">
<link title="BatConcurrent" rel="Chapter" href="BatConcurrent.html">
<link title="BatDeque" rel="Chapter" href="BatDeque.html">
<link title="BatDigest" rel="Chapter" href="BatDigest.html">
<link title="BatDllist" rel="Chapter" href="BatDllist.html">
<link title="BatDynArray" rel="Chapter" href="BatDynArray.html">
<link title="BatEnum" rel="Chapter" href="BatEnum.html">
<link title="BatFile" rel="Chapter" href="BatFile.html">
<link title="BatFingerTree" rel="Chapter" href="BatFingerTree.html">
<link title="BatFloat" rel="Chapter" href="BatFloat.html">
<link title="BatFormat" rel="Chapter" href="BatFormat.html">
<link title="BatGc" rel="Chapter" href="BatGc.html">
<link title="BatGenlex" rel="Chapter" href="BatGenlex.html">
<link title="BatGlobal" rel="Chapter" href="BatGlobal.html">
<link title="BatHashcons" rel="Chapter" href="BatHashcons.html">
<link title="BatHashtbl" rel="Chapter" href="BatHashtbl.html">
<link title="BatHeap" rel="Chapter" href="BatHeap.html">
<link title="BatIMap" rel="Chapter" href="BatIMap.html">
<link title="BatIO" rel="Chapter" href="BatIO.html">
<link title="BatISet" rel="Chapter" href="BatISet.html">
<link title="BatInnerIO" rel="Chapter" href="BatInnerIO.html">
<link title="BatInnerPervasives" rel="Chapter" href="BatInnerPervasives.html">
<link title="BatInnerWeaktbl" rel="Chapter" href="BatInnerWeaktbl.html">
<link title="BatInt" rel="Chapter" href="BatInt.html">
<link title="BatInt32" rel="Chapter" href="BatInt32.html">
<link title="BatInt64" rel="Chapter" href="BatInt64.html">
<link title="BatInterfaces" rel="Chapter" href="BatInterfaces.html">
<link title="BatLazyList" rel="Chapter" href="BatLazyList.html">
<link title="BatLexing" rel="Chapter" href="BatLexing.html">
<link title="BatList" rel="Chapter" href="BatList.html">
<link title="BatLog" rel="Chapter" href="BatLog.html">
<link title="BatLogger" rel="Chapter" href="BatLogger.html">
<link title="BatMap" rel="Chapter" href="BatMap.html">
<link title="BatMarshal" rel="Chapter" href="BatMarshal.html">
<link title="BatMultiMap" rel="Chapter" href="BatMultiMap.html">
<link title="BatMultiPMap" rel="Chapter" href="BatMultiPMap.html">
<link title="BatMutex" rel="Chapter" href="BatMutex.html">
<link title="BatNativeint" rel="Chapter" href="BatNativeint.html">
<link title="BatNum" rel="Chapter" href="BatNum.html">
<link title="BatNumber" rel="Chapter" href="BatNumber.html">
<link title="BatOo" rel="Chapter" href="BatOo.html">
<link title="BatOptParse" rel="Chapter" href="BatOptParse.html">
<link title="BatOption" rel="Chapter" href="BatOption.html">
<link title="BatOrd" rel="Chapter" href="BatOrd.html">
<link title="BatParserCo" rel="Chapter" href="BatParserCo.html">
<link title="BatPathGen" rel="Chapter" href="BatPathGen.html">
<link title="BatPervasives" rel="Chapter" href="BatPervasives.html">
<link title="BatPrintexc" rel="Chapter" href="BatPrintexc.html">
<link title="BatPrintf" rel="Chapter" href="BatPrintf.html">
<link title="BatQueue" rel="Chapter" href="BatQueue.html">
<link title="BatRMutex" rel="Chapter" href="BatRMutex.html">
<link title="BatRandom" rel="Chapter" href="BatRandom.html">
<link title="BatRef" rel="Chapter" href="BatRef.html">
<link title="BatRefList" rel="Chapter" href="BatRefList.html">
<link title="BatResult" rel="Chapter" href="BatResult.html">
<link title="BatReturn" rel="Chapter" href="BatReturn.html">
<link title="BatScanf" rel="Chapter" href="BatScanf.html">
<link title="BatSeq" rel="Chapter" href="BatSeq.html">
<link title="BatSet" rel="Chapter" href="BatSet.html">
<link title="BatSplay" rel="Chapter" href="BatSplay.html">
<link title="BatStack" rel="Chapter" href="BatStack.html">
<link title="BatStream" rel="Chapter" href="BatStream.html">
<link title="BatString" rel="Chapter" href="BatString.html">
<link title="BatSubstring" rel="Chapter" href="BatSubstring.html">
<link title="BatSys" rel="Chapter" href="BatSys.html">
<link title="BatText" rel="Chapter" href="BatText.html">
<link title="BatTuple" rel="Chapter" href="BatTuple.html">
<link title="BatUChar" rel="Chapter" href="BatUChar.html">
<link title="BatUTF8" rel="Chapter" href="BatUTF8.html">
<link title="BatUnit" rel="Chapter" href="BatUnit.html">
<link title="BatUnix" rel="Chapter" href="BatUnix.html">
<link title="BatUref" rel="Chapter" href="BatUref.html">
<link title="BatVect" rel="Chapter" href="BatVect.html">
<link title="Batteries" rel="Chapter" href="Batteries.html">
<link title="BatteriesConfig" rel="Chapter" href="BatteriesConfig.html">
<link title="BatteriesExceptionless" rel="Chapter" href="BatteriesExceptionless.html">
<link title="BatteriesPrint" rel="Chapter" href="BatteriesPrint.html">
<link title="BatteriesThread" rel="Chapter" href="BatteriesThread.html">
<link title="Extlib" rel="Chapter" href="Extlib.html"><link title="List operations" rel="Section" href="#6_Listoperations">
<link title="Input/output" rel="Section" href="#6_Inputoutput">
<link title="Fundamental functions and operators" rel="Section" href="#6_Fundamentalfunctionsandoperators">
<link title="Enumerations" rel="Section" href="#6_Enumerations">
<link title="Results" rel="Section" href="#6_Results">
<link title="Thread-safety internals" rel="Section" href="#6_Threadsafetyinternals">
<link title="Output functions on standard output" rel="Subsection" href="#7_Outputfunctionsonstandardoutput">
<link title="Output functions on standard error" rel="Subsection" href="#7_Outputfunctionsonstandarderror">
<link title="General output functions" rel="Subsection" href="#7_Generaloutputfunctions">
<link title="General input functions" rel="Subsection" href="#7_Generalinputfunctions">
<link title="General-purpose loops" rel="Subsection" href="#7_Generalpurposeloops">
<link title="Other operations on enumerations" rel="Subsection" href="#7_Otheroperationsonenumerations">
<title>Batteries user guide : BatPervasives</title>
</head>
<body>
<div class="navbar"><a class="pre" href="BatPathGen.html" title="BatPathGen">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="BatPrintexc.html" title="BatPrintexc">Next</a>
</div>
<h1>Module <a href="type_BatPervasives.html">BatPervasives</a></h1>

<pre><span class="keyword">module</span> BatPervasives: <code class="code">{</code> <a href="BatPervasives.html">..</a> <code class="code">}</code></pre><div class="info module top">
<h6 id="6_Additionalfunctions">Additional functions.</h6><br>
<b>Author(s):</b> Xavier Leroy (Base module), Nicolas Cannasse, David Teller, Zheng Li<br>
</div>
<hr width="100%">
<br>
The initially opened module.
<p>

    This module provides the basic operations over the built-in types
    (numbers, booleans, strings, exceptions, references, lists, arrays,
    input-output channels, ...)
<p>

    This module is automatically opened at the beginning of each compilation.
    All components of this module can therefore be referred by their short
    name, without prefixing them by <code class="code"><span class="constructor">BatPervasives</span></code>.<br>

<pre><span id="VALinput_lines"><span class="keyword">let</span> input_lines</span> : <code class="type">Pervasives.in_channel => <a href="BatEnum.html#TYPEt">BatEnum.t</a> string</code></pre><div class="info ">
Returns an enumeration over lines of an input channel, as read by the
    <code class="code">input_line</code> function.<br>
</div>

<pre><span id="VALinput_chars"><span class="keyword">let</span> input_chars</span> : <code class="type">Pervasives.in_channel => <a href="BatEnum.html#TYPEt">BatEnum.t</a> char</code></pre><div class="info ">
Returns an enumeration over characters of an input channel.<br>
</div>

<pre><span id="VALinput_list"><span class="keyword">let</span> input_list</span> : <code class="type">Pervasives.in_channel => list string</code></pre><div class="info ">
Returns the list of lines read from an input channel.<br>
</div>

<pre><span id="VALinput_all"><span class="keyword">let</span> input_all</span> : <code class="type">Pervasives.in_channel => string</code></pre><div class="info ">
Return the whole contents of an input channel as a single
    string.<br>
</div>

<pre><span id="VALdump"><span class="keyword">let</span> dump</span> : <code class="type">'a => string</code></pre><div class="info ">
Attempt to convert a value to a string.
<p>

    Works well for a lot of cases such as non-empty lists, algebraic
    datatype, and records.
<p>

    However, since types are lost at compile-time, the representation
    might not match your type. (0, 1) will be printed as expected, but
    (1, 0) and <code class="code">1</code> have the same representation and will get printed
    in the same way. The result of <code class="code">dump</code> is unspecified and may
    change in future versions, so you should only use it for debugging
    and never have program behavior depend on the output.
<p>

    Here is a list of some of the surprising corner cases of the
    current implementation:
<p>
<ul>
<li>(3, 0) is printed <code class="code">3</code>, (0.5, 0) is printed <code class="code">0.5</code>, etc.</li>
<li>None, false and [] are printed 0</li>
</ul>

    <code class="code">dump</code> may fail for ill-formed values, such as obtained from
    a faulty C binding or crazy uses of <code class="code"><span class="constructor">Obj</span>.set_tag</code>.<br>
</div>

<pre><span id="VALprint_any"><span class="keyword">let</span> print_any</span> : <code class="type"><a href="BatIO.html#TYPEoutput">BatIO.output</a> 'b => 'a => unit</code></pre><div class="info ">
Attempt to print a value to an output.
<p>

    Uses <code class="code">dump</code> to convert the value to a string and prints that
    string to the output.<br>
</div>
<br>
<h6 id="6_Listoperations">List operations</h6>
<p>

    More list operations are provided in module <code class="code"><span class="constructor">List</span></code>.<br>

<pre><span id="VAL(@)"><span class="keyword">let</span> (@)</span> : <code class="type">list 'a => list 'a => list 'a</code></pre><div class="info ">
List concatenation.<br>
</div>
<br>
<h6 id="6_Inputoutput">Input/output</h6>
<p>

    This section only contains the most common input/output operations.
    More operations may be found in modules <a href="BatIO.html"><code class="code"><span class="constructor">BatIO</span></code></a> and <code class="code"><span class="constructor">File</span></code>.<br>

<pre><span id="VALstdin"><span class="keyword">let</span> stdin</span> : <code class="type"><a href="BatIO.html#TYPEinput">BatIO.input</a></code></pre><div class="info ">
Standard input, as per Unix/Windows conventions (by default, keyboard).
<p>

    Use this input to read what the user is writing on the keyboard.<br>
</div>

<pre><span id="VALstdout"><span class="keyword">let</span> stdout</span> : <code class="type"><a href="BatIO.html#TYPEoutput">BatIO.output</a> unit</code></pre><div class="info ">
Standard output, as per Unix/Windows conventions (by default, console).
<p>

    Use this output to display regular messages.<br>
</div>

<pre><span id="VALstderr"><span class="keyword">let</span> stderr</span> : <code class="type"><a href="BatIO.html#TYPEoutput">BatIO.output</a> unit</code></pre><div class="info ">
Standard error output, as per Unix/Windows conventions.
<p>

    Use this output to display warnings and error messages.<br>
</div>

<pre><span id="VALstdnull"><span class="keyword">let</span> stdnull</span> : <code class="type"><a href="BatIO.html#TYPEoutput">BatIO.output</a> unit</code></pre><div class="info ">
An output which discards everything written to it.
<p>

    Use this output to ignore messages.<br>
</div>

<pre><span id="VALflush_all"><span class="keyword">let</span> flush_all</span> : <code class="type">unit => unit</code></pre><div class="info ">
Write all pending data to output channels, ignore all errors.
<p>

    It is normally not necessary to call this function, as all pending
    data is written when an output channel is closed or when the
    program itself terminates, either normally or because of an
    uncaught exception. However, this function is useful for
    debugging, as it forces pending data to be written immediately.<br>
</div>
<br>
<div class="h7" id="7_Outputfunctionsonstandardoutput">Output functions on standard output</div><br>

<pre><span id="VALprint_bool"><span class="keyword">let</span> print_bool</span> : <code class="type">bool => unit</code></pre><div class="info ">
Print a boolean on standard output.<br>
</div>

<pre><span id="VALprint_guess"><span class="keyword">let</span> print_guess</span> : <code class="type"><a href="BatIO.html#TYPEoutput">BatIO.output</a> 'a => 'b => unit</code></pre><div class="info ">
Attempt to print the representation of a runtime value on the
    standard output.  See remarks for <a href="BatPervasives.html#VALdump"><code class="code"><span class="constructor">BatPervasives</span>.dump</code></a>. This function is
    useful mostly for debugging. As a general rule, it should not be
    used in production code.<br>
</div>

<pre><span id="VALprint_all"><span class="keyword">let</span> print_all</span> : <code class="type"><a href="BatIO.html#TYPEinput">BatIO.input</a> => unit</code></pre><div class="info ">
Print the contents of an input to the standard output.<br>
</div>
<br>
<div class="h7" id="7_Outputfunctionsonstandarderror">Output functions on standard error</div><br>

<pre><span id="VALprerr_bool"><span class="keyword">let</span> prerr_bool</span> : <code class="type">bool => unit</code></pre><div class="info ">
Print a boolean to stderr.<br>
</div>

<pre><span id="VALprerr_guess"><span class="keyword">let</span> prerr_guess</span> : <code class="type">'a => unit</code></pre><div class="info ">
Attempt to print the representation of a runtime value on the
    error output.  See remarks for <a href="BatPervasives.html#VALdump"><code class="code"><span class="constructor">BatPervasives</span>.dump</code></a>. This function is
    useful mostly for debugging.<br>
</div>

<pre><span id="VALprerr_all"><span class="keyword">let</span> prerr_all</span> : <code class="type"><a href="BatIO.html#TYPEinput">BatIO.input</a> => unit</code></pre><div class="info ">
Print the contents of an input to the error output.<br>
</div>
<br>
<div class="h7" id="7_Generaloutputfunctions">General output functions</div><br>

<pre><span id="VALoutput_file"><span class="keyword">let</span> output_file</span> : <code class="type">filename::string => text::string => unit</code></pre><div class="info ">
creates a filename, write text into it and close it.<br>
</div>

<pre><span id="VALopen_out"><span class="keyword">let</span> open_out</span> : <code class="type">mode::list <a href="BatFile.html#TYPEopen_out_flag">BatFile.open_out_flag</a>? =><br>       perm::<a href="BatFile.html#TYPEpermission">BatFile.permission</a>? => string => <a href="BatIO.html#TYPEoutput">BatIO.output</a> unit</code></pre><div class="info ">
Open the named file for writing, and return a new output channel
    on that file. You will need to close the file once you have
    finished using it.
<p>

    You may use optional argument <code class="code">mode</code> to decide whether the
    output will overwrite the contents of the file (by default) or
    to add things at the end of the file, whether the file should be
    created if it does not exist yet (the default) or not, whether
    this operation should proceed if the file exists already (the
    default) or not, whether the file should be opened as text
    (the default) or as binary, and whether the file should be
    opened for non-blocking operations.
<p>

    You may use optional argument <code class="code">perm</code> to specify the permissions
    of the file, as per Unix conventions. By default, files are created
    with default permissions (which depend on your setup).<br>
<b>Raises</b> <code>Sys_error</code> if the file could not be opened.<br>
</div>

<pre><span id="VALopen_out_bin"><span class="keyword">let</span> open_out_bin</span> : <code class="type">string => <a href="BatIO.html#TYPEoutput">BatIO.output</a> unit</code></pre><div class="info ">
Same as <a href="BatPervasives.html#VALopen_out"><code class="code"><span class="constructor">BatPervasives</span>.open_out</code></a>, but the file is opened in binary mode, so
    that no translation takes place during writes. On operating
    systems that do not distinguish between text mode and binary
    mode, this function behaves like <a href="BatPervasives.html#VALopen_out"><code class="code"><span class="constructor">BatPervasives</span>.open_out</code></a> without any
    <code class="code">mode</code> or <code class="code">perm</code>.<br>
</div>

<pre><span id="VALopen_out_gen"><span class="keyword">let</span> open_out_gen</span> : <code class="type">list Pervasives.open_flag => int => string => <a href="BatIO.html#TYPEoutput">BatIO.output</a> unit</code></pre><div class="info ">
<span class="warning">Deprecated.</span>Use <code class="code">open_out instead</code><br>
<code class="code">open_out_gen mode perm filename</code> opens the named file for writing,
   as described above. The extra argument <code class="code">mode</code>
   specifies the opening mode. The extra argument <code class="code">perm</code> specifies
   the file permissions, in case the file must be created.<br>
</div>

<pre><span id="VALflush"><span class="keyword">let</span> flush</span> : <code class="type"><a href="BatIO.html#TYPEoutput">BatIO.output</a> unit => unit</code></pre><div class="info ">
Flush the buffer associated with the given output, performing
    all pending writes on that channel. Interactive programs must be
    careful about flushing standard output and standard error at the
    right time.<br>
</div>

<pre><span id="VALoutput_char"><span class="keyword">let</span> output_char</span> : <code class="type"><a href="BatIO.html#TYPEoutput">BatIO.output</a> unit => char => unit</code></pre><div class="info ">
Write the character on the given output channel.<br>
</div>

<pre><span id="VALoutput_string"><span class="keyword">let</span> output_string</span> : <code class="type"><a href="BatIO.html#TYPEoutput">BatIO.output</a> unit => string => unit</code></pre><div class="info ">
Write the string on the given output channel.<br>
</div>

<pre><span id="VALoutput"><span class="keyword">let</span> output</span> : <code class="type"><a href="BatIO.html#TYPEoutput">BatIO.output</a> unit => string => int => int => unit</code></pre><div class="info ">
<code class="code">output oc buf pos len</code> writes <code class="code">len</code> characters from string <code class="code">buf</code>,
    starting at offset <code class="code">pos</code>, to the given output channel <code class="code">oc</code>.<br>
<b>Raises</b> <code>Invalid_argument</code> if <code class="code">pos</code> and <code class="code">len</code> do not
    designate a valid substring of <code class="code">buf</code>.<br>
</div>

<pre><span id="VALoutput_byte"><span class="keyword">let</span> output_byte</span> : <code class="type"><a href="BatIO.html#TYPEoutput">BatIO.output</a> unit => int => unit</code></pre><div class="info ">
Write one 8-bit integer (as the single character with that code)
    on the given output channel. The given integer is taken modulo
    256.<br>
</div>

<pre><span id="VALoutput_binary_int"><span class="keyword">let</span> output_binary_int</span> : <code class="type"><a href="BatIO.html#TYPEoutput">BatIO.output</a> unit => int => unit</code></pre><div class="info ">
Write one integer in binary format (4 bytes, big-endian)
    on the given output channel.
    The given integer is taken modulo 2<sup class="superscript">32</sup>.
    The only reliable way to read it back is through the
    <code class="code"><span class="constructor">Pervasives</span>.input_binary_int</code> function. The format is compatible across
    all machines for a given version of OCaml.<br>
</div>

<pre><span id="VALoutput_binary_float"><span class="keyword">let</span> output_binary_float</span> : <code class="type"><a href="BatIO.html#TYPEoutput">BatIO.output</a> unit => float => unit</code></pre><div class="info ">
Write one float in binary format (8 bytes, IEEE 754 double format)
    on the given output channel.
    The only reliable way to read it back is through the
    <code class="code"><span class="constructor">Pervasives</span>.input_binary_float</code> function. The format is compatible across
    all machines for a given version of OCaml.<br>
</div>

<pre><span id="VALoutput_value"><span class="keyword">let</span> output_value</span> : <code class="type"><a href="BatIO.html#TYPEoutput">BatIO.output</a> unit => 'a => unit</code></pre><div class="info ">
Write the representation of a structured value of any type
    to a channel. Circularities and sharing inside the value
    are detected and preserved. The object can be read back,
    by the function <a href="BatPervasives.html#VALinput_value"><code class="code"><span class="constructor">BatPervasives</span>.input_value</code></a>. See the description of module
    <code class="code"><span class="constructor">Marshal</span></code> for more information. <a href="BatPervasives.html#VALoutput_value"><code class="code"><span class="constructor">BatPervasives</span>.output_value</code></a> is equivalent
    to <code class="code"><span class="constructor">Marshal</span>.output</code> with an empty list of flags.<br>
</div>

<pre><span id="VALclose_out"><span class="keyword">let</span> close_out</span> : <code class="type"><a href="BatIO.html#TYPEoutput">BatIO.output</a> unit => unit</code></pre><div class="info ">
Close the given channel, flushing all buffered write operations.
    Output functions raise a <code class="code"><span class="constructor">Sys_error</span></code> exception when they are
    applied to a closed output channel, except <code class="code">close_out</code> and <code class="code">flush</code>,
    which do nothing when applied to an already closed channel.<br>
<b>Raises</b> <code>Sys_error</code> if the operating
    system signals an error when flushing or closing.<br>
</div>

<pre><span id="VALclose_out_noerr"><span class="keyword">let</span> close_out_noerr</span> : <code class="type"><a href="BatIO.html#TYPEoutput">BatIO.output</a> unit => unit</code></pre><div class="info ">
Same as <code class="code">close_out</code>, but ignore all errors.<br>
</div>
<br>
<div class="h7" id="7_Generalinputfunctions">General input functions</div><br>

<pre><span id="VALinput_file"><span class="keyword">let</span> input_file</span> : <code class="type">bin::bool? => string => string</code></pre><div class="info ">
returns the data of a given filename.<br>
</div>

<pre><span id="VALopen_in"><span class="keyword">let</span> open_in</span> : <code class="type">mode::list <a href="BatFile.html#TYPEopen_in_flag">BatFile.open_in_flag</a>? =><br>       perm::<a href="BatFile.html#TYPEpermission">BatFile.permission</a>? => string => <a href="BatIO.html#TYPEinput">BatIO.input</a></code></pre><div class="info ">
Open the named file for reading. You will need to close the file once you have
    finished using it.
<p>

    You may use optional argument <code class="code">mode</code> to decide whether the opening
    should fail if the file doesn't exist yet (by default) or whether
    the file should be created if it doesn't exist yet, whether the
    opening should fail if the file already exists or not (by
    default), whether the file should be read as binary (by default)
    or as text, and whether reading should be non-blocking.
<p>

    You may use optional argument <code class="code">perm</code> to specify the permissions of
    the file, should it be created, as per Unix conventions. By
    default, files are created with default permissions (which depend
    on your setup).<br>
<b>Raises</b> <code>Sys_error</code> if the file could not be opened.<br>
</div>

<pre><span id="VALopen_in_bin"><span class="keyword">let</span> open_in_bin</span> : <code class="type">string => <a href="BatIO.html#TYPEinput">BatIO.input</a></code></pre><div class="info ">
Same as <code class="code"><span class="constructor">Pervasives</span>.open_in</code>, but the file is opened in binary mode,
    so that no translation takes place during reads. On operating
    systems that do not distinguish between text mode and binary
    mode, this function behaves like <code class="code"><span class="constructor">Pervasives</span>.open_in</code>.<br>
</div>

<pre><span id="VALopen_in_gen"><span class="keyword">let</span> open_in_gen</span> : <code class="type">list Pervasives.open_flag => int => string => <a href="BatIO.html#TYPEinput">BatIO.input</a></code></pre><div class="info ">
<span class="warning">Deprecated.</span>Use <code class="code">open_in instead</code><br>
<code class="code">open_in mode perm filename</code> opens the named file for reading,
    as described above. The extra arguments <code class="code">mode</code> and <code class="code">perm</code>
    specify the opening mode and file permissions.
    <code class="code"><span class="constructor">Pervasives</span>.open_in</code> and <code class="code"><span class="constructor">Pervasives</span>.open_in_bin</code> are special
    cases of this function.<br>
</div>

<pre><span id="VALinput_char"><span class="keyword">let</span> input_char</span> : <code class="type"><a href="BatIO.html#TYPEinput">BatIO.input</a> => char</code></pre><div class="info ">
Read one character from the given input channel.<br>
<b>Raises</b> <code>End_of_file</code> if there are no more characters to read.<br>
</div>

<pre><span id="VALinput_line"><span class="keyword">let</span> input_line</span> : <code class="type"><a href="BatIO.html#TYPEinput">BatIO.input</a> => string</code></pre><div class="info ">
Read characters from the given input channel, until a
    newline character is encountered. Return the string of
    all characters read, without the newline character at the end.<br>
<b>Raises</b> <code>End_of_file</code> if the end of the file is reached
    at the beginning of line.<br>
</div>

<pre><span id="VALinput"><span class="keyword">let</span> input</span> : <code class="type"><a href="BatIO.html#TYPEinput">BatIO.input</a> => string => int => int => int</code></pre><div class="info ">
<code class="code">input ic buf pos len</code> reads up to <code class="code">len</code> characters from
    the given channel <code class="code">ic</code>, storing them in string <code class="code">buf</code>, starting at
    character number <code class="code">pos</code>.
    It returns the actual number of characters read, between 0 and
    <code class="code">len</code> (inclusive).
    A return value of 0 means that the end of file was reached.
    A return value between 0 and <code class="code">len</code> exclusive means that
    not all requested <code class="code">len</code> characters were read, either because
    no more characters were available at that time, or because
    the implementation found it convenient to do a partial read;
    <code class="code">input</code> must be called again to read the remaining characters,
    if desired.  (See also <code class="code"><span class="constructor">Pervasives</span>.really_input</code> for reading
    exactly <code class="code">len</code> characters.)<br>
<b>Raises</b> <code>Invalid_argument</code> if <code class="code">pos</code> and <code class="code">len</code>
    do not designate a valid substring of <code class="code">buf</code>.<br>
</div>

<pre><span id="VALreally_input"><span class="keyword">let</span> really_input</span> : <code class="type"><a href="BatIO.html#TYPEinput">BatIO.input</a> => string => int => int => unit</code></pre><div class="info ">
<code class="code">really_input ic buf pos len</code> reads <code class="code">len</code> characters from channel <code class="code">ic</code>,
    storing them in string <code class="code">buf</code>, starting at character number <code class="code">pos</code>.<br>
<b>Raises</b><ul><li><code>End_of_file</code> if the end of file is reached before <code class="code">len</code>
    characters have been read.</li>
<li><code>Invalid_argument</code> if
    <code class="code">pos</code> and <code class="code">len</code> do not designate a valid substring of <code class="code">buf</code>.</li>
</ul>
</div>

<pre><span id="VALinput_byte"><span class="keyword">let</span> input_byte</span> : <code class="type"><a href="BatIO.html#TYPEinput">BatIO.input</a> => int</code></pre><div class="info ">
Same as <code class="code"><span class="constructor">Pervasives</span>.input_char</code>, but return the 8-bit integer representing
    the character.<br>
<b>Raises</b> <code>End_of_file</code> if an end of file was reached.<br>
</div>

<pre><span id="VALinput_binary_int"><span class="keyword">let</span> input_binary_int</span> : <code class="type"><a href="BatIO.html#TYPEinput">BatIO.input</a> => int</code></pre><div class="info ">
Read an integer encoded in binary format (4 bytes, big-endian)
    from the given input channel. See <code class="code"><span class="constructor">Pervasives</span>.output_binary_int</code>.<br>
<b>Raises</b> <code>End_of_file</code> if an end of file was reached while reading the
    integer.<br>
</div>

<pre><span id="VALinput_binary_float"><span class="keyword">let</span> input_binary_float</span> : <code class="type"><a href="BatIO.html#TYPEinput">BatIO.input</a> => float</code></pre><div class="info ">
Read a float encoded in binary format (8 bytes, IEEE 754 double format)
    from the given input channel. See <code class="code"><span class="constructor">Pervasives</span>.output_binary_float</code>.<br>
<b>Raises</b> <code>End_of_file</code> if an end of file was reached while reading the
    float.<br>
</div>

<pre><span id="VALinput_value"><span class="keyword">let</span> input_value</span> : <code class="type"><a href="BatIO.html#TYPEinput">BatIO.input</a> => 'a</code></pre><div class="info ">
Read the representation of a structured value, as produced
    by <a href="BatPervasives.html#VALoutput_value"><code class="code"><span class="constructor">BatPervasives</span>.output_value</code></a>, and return the corresponding value.
    This function is identical to <code class="code"><span class="constructor">Marshal</span>.input</code>;
    see the description of module <code class="code"><span class="constructor">Marshal</span></code> for more information,
    in particular concerning the lack of type safety.<br>
</div>

<pre><span id="VALclose_in"><span class="keyword">let</span> close_in</span> : <code class="type"><a href="BatIO.html#TYPEinput">BatIO.input</a> => unit</code></pre><div class="info ">
Close the given channel.  Input functions raise a <code class="code"><span class="constructor">Sys_error</span></code>
    exception when they are applied to a closed input channel,
    except <code class="code">close_in</code>, which does nothing when applied to an already
    closed channel.<br>
<b>Raises</b> <code>Sys_error</code> if
    the operating system signals an error.<br>
</div>

<pre><span id="VALclose_in_noerr"><span class="keyword">let</span> close_in_noerr</span> : <code class="type"><a href="BatIO.html#TYPEinput">BatIO.input</a> => unit</code></pre><div class="info ">
Same as <code class="code">close_in</code>, but ignore all errors.<br>
</div>
<br>
<h6 id="6_Fundamentalfunctionsandoperators">Fundamental functions and operators</h6><br>

<pre><span id="VALidentity"><span class="keyword">let</span> identity</span> : <code class="type">'a => 'a</code></pre><div class="info ">
The identity function.<br>
</div>

<pre><span id="VALundefined"><span class="keyword">let</span> undefined</span> : <code class="type">message::string? => 'a => 'b</code></pre><div class="info ">
The undefined function.
<p>

      Evaluating <code class="code">undefined x</code> always fails and raises an exception
      "Undefined". Optional argument <code class="code">message</code> permits the
      customization of the error message.<br>
</div>

<pre><span id="VAL(@@)"><span class="keyword">let</span> (@@)</span> : <code class="type">('a => 'b) => 'a => 'b</code></pre><br>
Function application. <code class="code">f @@ x</code> is equivalent to <code class="code">f x</code>.
    However, it binds less tightly (between <code class="code">::</code> and <code class="code">=</code>,<code class="code">&lt;</code>,<code class="code">&gt;</code>,etc)
    and is right-associative, which makes it useful for composing sequences of
    function calls without too many parentheses. It is similar to Haskell's <code class="code">$</code>.
    Note that it replaces pre-2.0 <code class="code">**&gt;</code> and <code class="code">&lt;|</code>.<br>

<pre><span id="VAL(%)"><span class="keyword">let</span> (%)</span> : <code class="type">('a => 'b) => ('c => 'a) => 'c => 'b</code></pre><div class="info ">
Function composition: the mathematical <code class="code">o</code> operator.
      <code class="code">f % g</code> is <code class="code"><span class="keyword">fun</span> x <span class="keywordsign">-&gt;</span> f (g x)</code>. It is similar to Haskell's <code class="code">.</code>.
<p>

      Examples: the following are equivalent:
      <code class="code">f (g (h x))</code>, <code class="code">f @@ g @@ h x</code>, <code class="code">f % g % h @@ x</code>.<br>
</div>

<pre><span id="VAL(|>)"><span class="keyword">let</span> (|&gt;)</span> : <code class="type">'a => ('a => 'b) => 'b</code></pre><div class="info ">
The "pipe": function application. <code class="code">x |&gt; f</code> is equivalent to <code class="code">f x</code>.
<p>

    This operator is commonly used to write a function composition by
    order of evaluation (the order used in object-oriented
    programming) rather than by inverse order (the order typically
    used in functional programming).
<p>

    For instance, <code class="code">g (f x)</code> means "apply <code class="code">f</code> to <code class="code">x</code>, then apply <code class="code">g</code> to
    the result." The corresponding notation in most object-oriented
    programming languages would be somewhere along the lines of <code class="code">x.f.g.h()</code>,
    or "starting from <code class="code">x</code>, apply <code class="code">f</code>, then apply <code class="code">g</code>." In OCaml,
    using the ( |&gt; ) operator, this is written <code class="code">x |&gt; f |&gt; g |&gt; h</code>.
<p>

    This operator may also be useful for composing sequences of
    function calls without too many parentheses.<br>
</div>

<pre><span id="VAL(%>)"><span class="keyword">let</span> (%&gt;)</span> : <code class="type">('a => 'b) => ('b => 'c) => 'a => 'c</code></pre><div class="info ">
Piping function composition. <code class="code">f %&gt; g</code> is <code class="code"><span class="keyword">fun</span> x <span class="keywordsign">-&gt;</span> g (f x)</code>.
    Whereas <code class="code">f % g</code> applies <code class="code">g</code> first and <code class="code">f</code> second, <code class="code">f %&gt; g</code>
    applies <code class="code">f</code>, then <code class="code">g</code>.
    Note that it plays well with pipes, so for instance
    <code class="code">x |&gt; f %&gt; g %&gt; h |&gt; i %&gt; j</code> yields the expected result...
    but in such cases it's still recommended to use <code class="code">|&gt;</code> only.
    Note that it replaces pre-2.0 <code class="code">|-</code>, which <i>didn't</i> integrate with
    pipes.<br>
</div>

<pre><span id="VAL(|?)"><span class="keyword">let</span> (|?)</span> : <code class="type">option 'a => 'a => 'a</code></pre><div class="info ">
Like <a href="BatOption.html#VALdefault"><code class="code"><span class="constructor">BatOption</span>.default</code></a>, with the arguments reversed.
    <code class="code"><span class="constructor">None</span> |? 10</code> returns <code class="code">10</code>, while <code class="code"><span class="constructor">Some</span> <span class="string">"foo"</span> |? <span class="string">"bar"</span></code> returns <code class="code"><span class="string">"foo"</span></code>.
<p>

    <b>Note</b> This operator does not short circuit like <code class="code">( <span class="keywordsign">||</span> )</code> and <code class="code">( <span class="keywordsign">&amp;&amp;</span> )</code>.
    Both arguments will be evaluated.<br>
<b>Since</b> 2.0<br>
</div>

<pre><span id="VALflip"><span class="keyword">let</span> flip</span> : <code class="type">('a => 'b => 'c) => 'b => 'a => 'c</code></pre><div class="info ">
Argument flipping.
<p>

    <code class="code">flip f x y</code> is <code class="code">f y x</code>. Don't abuse this function, it may shorten
    considerably your code but it also has the nasty habit of making
    it harder to read.<br>
</div>

<pre><span id="VALcurry"><span class="keyword">let</span> curry</span> : <code class="type">(('a, 'b) => 'c) => 'a => 'b => 'c</code></pre><div class="info ">
Convert a function which accepts a pair of arguments into a
    function which accepts two arguments.
<p>

    <code class="code">curry f</code> is <code class="code"><span class="keyword">fun</span> x y <span class="keywordsign">-&gt;</span> f (x,y)</code><br>
</div>

<pre><span id="VALuncurry"><span class="keyword">let</span> uncurry</span> : <code class="type">('a => 'b => 'c) => ('a, 'b) => 'c</code></pre><div class="info ">
Convert a function which accepts a two arguments into a function
    which accepts a pair of arguments.
<p>

    <code class="code">uncurry f</code> is <code class="code"><span class="keyword">fun</span> (x, y) <span class="keywordsign">-&gt;</span> f x y</code><br>
</div>

<pre><span id="VALneg"><span class="keyword">let</span> neg</span> : <code class="type">('a => bool) => 'a => bool</code></pre><div class="info ">
<code class="code">neg p</code> returns a new predicate that is the negation of the given
    predicate.  That is, the new predicate returns <code class="code"><span class="keyword">false</span></code> when the
    input predicate returns <code class="code"><span class="keyword">true</span></code> and vice versa.  This is for
    predicates with one argument.
<p>

    <code class="code">neg p</code> is <code class="code"><span class="keyword">fun</span> x <span class="keywordsign">-&gt;</span> not (p x)</code><br>
</div>

<pre><span id="VALneg2"><span class="keyword">let</span> neg2</span> : <code class="type">('a => 'b => bool) => 'a => 'b => bool</code></pre><div class="info ">
as <code class="code">neg</code> but for predicates with two arguments<br>
</div>

<pre><span id="VALconst"><span class="keyword">let</span> const</span> : <code class="type">'a => 'b => 'a</code></pre><div class="info ">
Ignore its second argument.
<p>

    <code class="code">const x</code> is the function which always returns <code class="code">x</code>.<br>
</div>

<pre><span id="VALunique"><span class="keyword">let</span> unique</span> : <code class="type">unit => int</code></pre><div class="info ">
Returns an unique identifier every time it is called.
<p>

    <b>Note</b> This is thread-safe.<br>
</div>

<pre><span id="VALtap"><span class="keyword">let</span> tap</span> : <code class="type">('a => unit) => 'a => 'a</code></pre><div class="info ">
Allows application of a function in the middle of a pipe
    sequence without disturbing the sequence.  <code class="code">x |&gt; tap f</code>
    evaluates to <code class="code">x</code>, but has the side effect of <code class="code">f x</code>.  Useful for
    debugging.<br>
</div>

<pre><span id="VALfinally"><span class="keyword">let</span> finally</span> : <code class="type">(unit => unit) => ('a => 'b) => 'a => 'b</code></pre><div class="info ">
<code class="code">finally fend f x</code> calls <code class="code">f x</code> and then <code class="code">fend()</code> even if <code class="code">f x</code> raised
    an exception.<br>
</div>

<pre><span id="VALwith_dispose"><span class="keyword">let</span> with_dispose</span> : <code class="type">dispose::('a => unit) => ('a => 'b) => 'a => 'b</code></pre><div class="info ">
<code class="code">with_dispose dispose f x</code> invokes <code class="code">f</code> on <code class="code">x</code>, calling <code class="code">dispose x</code>
    when <code class="code">f</code> terminates (either with a return value or an
    exception).<br>
</div>

<pre><span id="VALforever"><span class="keyword">let</span> forever</span> : <code class="type">('a => 'b) => 'a => unit</code></pre><div class="info ">
<code class="code">forever f x</code> invokes <code class="code">f</code> on <code class="code">x</code> repeatedly (until an exception occurs).<br>
</div>

<pre><span id="VALignore_exceptions"><span class="keyword">let</span> ignore_exceptions</span> : <code class="type">('a => 'b) => 'a => unit</code></pre><div class="info ">
<code class="code">ignore_exceptions f x</code> invokes <code class="code">f</code> on <code class="code">x</code>, ignoring both the returned value
    and the exceptions that may be raised.<br>
</div>

<pre><span id="VALverify_arg"><span class="keyword">let</span> verify_arg</span> : <code class="type">bool => string => unit</code></pre><div class="info ">
<code class="code">verify_arg condition message</code> will raise <code class="code"><span class="constructor">Invalid_argument</span> message</code> if
    <code class="code">condition</code> is false, otherwise it does nothing.<br>
<b>Since</b> 2.0<br>
</div>

<pre><span id="VALargs"><span class="keyword">let</span> args</span> : <code class="type">unit => <a href="BatEnum.html#TYPEt">BatEnum.t</a> string</code></pre><div class="info ">
An enumeration of the arguments passed to this program through the command line.
<p>

    <code class="code">args ()</code> is given by the elements of <code class="code"><span class="constructor">Sys</span>.argv</code>, minus the first element.<br>
</div>

<pre><span id="VALexe"><span class="keyword">let</span> exe</span> : <code class="type">string</code></pre><div class="info ">
The name of the current executable.
<p>

    <code class="code">exe</code> is given by the first argument of <code class="code"><span class="constructor">Sys</span>.argv</code><br>
</div>
<br>
<h6 id="6_Enumerations">Enumerations</h6>
<p>

   In OCaml Batteries Included, all data structures are enumerable,
   which means that they support a number of standard operations,
   transformations, etc. The general manner of <i>enumerating</i> the
   contents of a data structure is to invoke the <code class="code">enum</code> function of
   your data structure.
<p>

   For instance, you may use the <a href="BatPervasives.html#VALforeach"><code class="code"><span class="constructor">BatPervasives</span>.foreach</code></a> loop to apply a function
   <code class="code">f</code> to all the consecutive elements of a string <code class="code">s</code>. For this
   purpose, you may write either <code class="code">foreach (<span class="constructor">String</span>.enum s) f</code> or <code class="code"><span class="keyword">open</span>
   <span class="constructor">String</span> <span class="keyword">in</span> foreach (enum s) f</code>. Either possibility states that you
   are enumerating through a character string <code class="code">s</code>. Should you prefer
   your enumeration to proceed from the end of the string to the
   beginning, you may replace <code class="code"><span class="constructor">String</span>.enum</code> with <code class="code"><span class="constructor">String</span>.backwards</code>. Therefore, either <code class="code">foreach (<span class="constructor">String</span>.backwards s)
   f</code> or <code class="code"><span class="keyword">open</span> <span class="constructor">String</span> <span class="keyword">in</span> foreach (backwards s) f</code> will apply <code class="code">f</code>
   to all the consecutive elements of string <code class="code">s</code>, from the last to
   the first.
<p>

   Similarly, you may use <code class="code"><span class="constructor">List</span>.enum</code> instead of <code class="code"><span class="constructor">String</span>.enum</code> to
   visit the elements of a list in the usual order, or
   <code class="code"><span class="constructor">List</span>.backwards</code> instead of <code class="code"><span class="constructor">String</span>.backwards</code> to visit them
   in the opposite order, or <code class="code"><span class="constructor">Hashtbl</span>.enum</code> for hash tables, etc.
<p>

   More operations on enumerations are defined in module <a href="BatEnum.html"><code class="code"><span class="constructor">BatEnum</span></code></a>,
   including the necessary constructors to make your own structures
   enumerable.
<p>

   The various kinds of loops are detailed further in this documentation.<br>

<pre><span id="VALforeach"><span class="keyword">let</span> foreach</span> : <code class="type"><a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a => ('a => unit) => unit</code></pre><div class="info ">
Imperative loop on an enumeration.
<p>

    <code class="code">foreach e f</code> applies function <code class="code">f</code> to each successive element of <code class="code">e</code>.
    For instance, <code class="code">foreach (1 -- 10) print_int</code> invokes function <code class="code">print_int</code>
    on <code class="code">1</code>, <code class="code">2</code>, ..., <code class="code">10</code>, printing <code class="code">12345678910</code>.
<p>

    <b>Note</b> This function is one of the many loops available on
    enumerations.  Other commonly used loops are <a href="BatPervasives.html#VALiter"><code class="code"><span class="constructor">BatPervasives</span>.iter</code></a> (same usage
    scenario as <code class="code">foreach</code>, but with different notations), <a href="BatPervasives.html#VALmap"><code class="code"><span class="constructor">BatPervasives</span>.map</code></a>
    (convert an enumeration to another enumeration) or <a href="BatPervasives.html#VALfold"><code class="code"><span class="constructor">BatPervasives</span>.fold</code></a>
    (flatten an enumeration by applying an operation to each
    element).<br>
</div>
<br>
<div class="h7" id="7_Generalpurposeloops">General-purpose loops</div>
<p>

   
<p>

   The following functions are the three main general-purpose loops
   available in OCaml. By opposition to the loops available in
   imperative languages, OCaml loops are regular functions, which
   may be passed, composed, currified, etc. In particular, each
   of these loops may be considered either as a manner of applying
   a function to a data structure or as transforming a function
   into another function which will act on a whole data structure.
<p>

   For instance, if <code class="code">f</code> is a function operating on one value, you may
   lift this function to operate on all values of an enumeration (and
   consequently on all values of any data structure of OCaml Batteries
   Included) by applying <a href="BatPervasives.html#VALiter"><code class="code"><span class="constructor">BatPervasives</span>.iter</code></a>, <a href="BatPervasives.html#VALmap"><code class="code"><span class="constructor">BatPervasives</span>.map</code></a> or <a href="BatPervasives.html#VALfold"><code class="code"><span class="constructor">BatPervasives</span>.fold</code></a> to this function.<br>

<pre><span id="VALiter"><span class="keyword">let</span> iter</span> : <code class="type">('a => unit) => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a => unit</code></pre><div class="info ">
Imperative loop on an enumeration. This loop is typically used
    to lift a function with an effect but no meaningful result and
    get it to work on enumerations.
<p>

    If <code class="code">f</code> is a function <code class="code">iter f</code> is a function which behaves as <code class="code">f</code>
    but acts upon enumerations rather than individual elements. As
    indicated in the type of <code class="code">iter</code>, <code class="code">f</code> must produce values of type
    <code class="code">unit</code> (i.e. <code class="code">f</code> has no meaningful result) the resulting function
    produces no meaningful result either.
<p>

    In other words, <code class="code">iter f</code> is a function which, when applied upon
    an enumeration <code class="code">e</code>, calls <code class="code">f</code> with each element of <code class="code">e</code> in turn.
<p>

    For instance, <code class="code">iter f (1 -- 10)</code> invokes function <code class="code">f</code> on <code class="code">1</code>,
    <code class="code">2</code>, ..., <code class="code">10</code> and produces value <code class="code">()</code>.<br>
</div>

<pre><span id="VALmap"><span class="keyword">let</span> map</span> : <code class="type">('a => 'b) => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'b</code></pre><div class="info ">
Transformation loop on an enumeration, used to build an enumeration
    from another enumeration. This loop is typically used to transform
    an enumeration into another enumeration with the same number of
    elements, in the same order.
<p>

    If <code class="code">f</code> is a function, <code class="code">map f e</code> is a function which behaves as
    <code class="code">f</code> but acts upon enumerations rather than individual elements --
    and builds a new enumeration from the results of each application.
<p>

    In other words, <code class="code">map f</code> is a function which, when applied
    upon an enumeration containing elements <code class="code">e0</code>, <code class="code">e1</code>, ...,
    produces enumeration <code class="code">f e0</code>, <code class="code">f e1</code>, ...
<p>

    For instance, if <code class="code">odd</code> is the function which returns <code class="code"><span class="keyword">true</span></code>
    when applied to an odd number or <code class="code"><span class="keyword">false</span></code> when applied to
    an even number, <code class="code">map odd (1 -- 10)</code> produces enumeration
    <code class="code"><span class="keyword">true</span></code>, <code class="code"><span class="keyword">false</span></code>, <code class="code"><span class="keyword">true</span></code>, ..., <code class="code"><span class="keyword">false</span></code>.
<p>

    Similarly, if <code class="code">square</code> is the function <code class="code"><span class="keyword">fun</span> x <span class="keywordsign">-&gt;</span> x * x</code>,
    <code class="code">map square (1 -- 10)</code> produces the enumeration of the
    square numbers of all numbers between <code class="code">1</code> and <code class="code">10</code>.<br>
</div>

<pre><span id="VALfilter_map"><span class="keyword">let</span> filter_map</span> : <code class="type">('a => option 'b) => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'b</code></pre><div class="info ">
Similar to a map, except that you can skip over some items of the
    incoming enumeration by returning None instead of Some value.
    Think of it as a <a href="BatPervasives.html#VALfilter"><code class="code"><span class="constructor">BatPervasives</span>.filter</code></a> combined with a <a href="BatPervasives.html#VALmap"><code class="code"><span class="constructor">BatPervasives</span>.map</code></a>.<br>
</div>

<pre><span id="VALreduce"><span class="keyword">let</span> reduce</span> : <code class="type">('a => 'a => 'a) => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a => 'a</code></pre><div class="info ">
Transformation loop on an enumeration, used to build a single value
    from an enumeration.
<p>

    If <code class="code">f</code> is a function and <code class="code">e</code> is an enumeration, <code class="code">reduce f e</code> applies
    function <code class="code">f</code> to the first two elements of <code class="code">e</code>, then to the result of this
    expression and to the third element of <code class="code">e</code>, then to the result of this
    new expression and to the fourth element of <code class="code">e</code>...
<p>

    In other words, <code class="code">reduce f e</code> returns <code class="code">a0</code> if <code class="code">e</code> contains only
    one element <code class="code">a0</code>, otherwise <code class="code">f (... (f (f a0) a1) ...) aN</code> where
    <code class="code">a0,a1..aN</code> are the elements of <code class="code">e</code>.<br>
<b>Raises</b> <code>Not_found</code> if <code class="code">e</code> is empty.
<p>

    For instance, if <code class="code">add</code> is the function <code class="code"><span class="keyword">fun</span> x y <span class="keywordsign">-&gt;</span> x + y</code>,
    <code class="code">reduce add</code> is the function which computes the sum of the
    elements of an enumeration -- and doesn't work on empty
    enumerations. Therefore, <code class="code">reduce add (1 -- 10)</code>
    produces result <code class="code">55</code>.<br>
</div>

<pre><span id="VALfold"><span class="keyword">let</span> fold</span> : <code class="type">('b => 'a => 'b) => 'b => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a => 'b</code></pre><div class="info ">
Transformation loop on an enumeration, used to build a single value
    from an enumeration. This is the most powerful general-purpose
    loop and also the most complex.
<p>

    If <code class="code">f</code> is a function, <code class="code">fold f v e</code> applies <code class="code">f v</code> to the first
    element of <code class="code">e</code>, then, calling <code class="code">acc_1</code> the result of this
    operation, applies <code class="code">f acc_1</code> to the second element of <code class="code">e</code>, then,
    calling <code class="code">acc_2</code> the result of this operation, applies <code class="code">f acc_2</code>
    to the third element of <code class="code">e</code>...
<p>

    In other words, <code class="code">fold f v e</code> returns <code class="code">v</code> if <code class="code">e</code> is empty,
    otherwise <code class="code">f (... (f (f v a0) a1) ...) aN</code> where a0,a1..aN are
    the elements of <code class="code">e</code>.
<p>

    For instance, if <code class="code">add</code> is the function <code class="code"><span class="keyword">fun</span> x y <span class="keywordsign">-&gt;</span> x + y</code>,
    <code class="code">fold add 0</code> is the function which computes the sum of the
    elements of an enumeration. Therefore, <code class="code">fold add 0 (1 -- 10)</code>
    produces result <code class="code">55</code>.<br>
</div>

<pre><span id="VALscanl"><span class="keyword">let</span> scanl</span> : <code class="type">('b => 'a => 'b) => 'b => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'b</code></pre><div class="info ">
Functional loop on an enumeration, used to build an enumeration
    from both an enumeration and an initial value. This function may
    be seen as a variant of <a href="BatPervasives.html#VALfold"><code class="code"><span class="constructor">BatPervasives</span>.fold</code></a> which returns not only the final
    result of <a href="BatPervasives.html#VALfold"><code class="code"><span class="constructor">BatPervasives</span>.fold</code></a> but the enumeration of all the intermediate
    results of <a href="BatPervasives.html#VALfold"><code class="code"><span class="constructor">BatPervasives</span>.fold</code></a>.
<p>

    If <code class="code">f</code> is a function, <code class="code">scanl f v e</code> is applies <code class="code">f v</code> to the first
    element of <code class="code">e</code>, then, calling <code class="code">acc_1</code> the result of this
    operation, applies <code class="code">f acc_1</code> to the second element of <code class="code">e</code>, then,
    calling <code class="code">acc_2</code> the result of this operation, applies <code class="code">f acc_2</code>
    to the third element of <code class="code">e</code>...
<p>

    For instance, if <code class="code">add</code> is the function <code class="code"><span class="keyword">fun</span> x y <span class="keywordsign">-&gt;</span> x + y</code>,
    <code class="code">scanl add 0</code> is the function which computes the sum of the
    elements of an enumeration. Therefore, <code class="code">scanl add 0 (1 -- 10)</code>
    produces result the enumeration with elements <code class="code">0, 1, 3, 6, 10,
    15, 21, 28, 36, 45, 55</code>.<br>
</div>

<pre><span id="VAL(/@)"><span class="keyword">let</span> (/@)</span> : <code class="type"><a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a => ('a => 'b) => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'b</code></pre>
<pre><span id="VAL(@/)"><span class="keyword">let</span> (@/)</span> : <code class="type">('a => 'b) => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'b</code></pre><div class="info ">
Mapping operators.
<p>

   These operators have the same meaning as function <a href="BatPervasives.html#VALmap"><code class="code"><span class="constructor">BatPervasives</span>.map</code></a> but are
   sometimes more readable than this function, when chaining
   several transformations in a row.<br>
</div>

<pre><span id="VAL(//@)"><span class="keyword">let</span> (//@)</span> : <code class="type"><a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a => ('a => option 'b) => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'b</code></pre>
<pre><span id="VAL(@//)"><span class="keyword">let</span> (@//)</span> : <code class="type">('a => option 'b) => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'b</code></pre><div class="info ">
Map combined with filter. Same as <a href="BatPervasives.html#VALfilter_map"><code class="code"><span class="constructor">BatPervasives</span>.filter_map</code></a>.<br>
</div>
<br>
<div class="h7" id="7_Otheroperationsonenumerations">Other operations on enumerations</div><br>

<pre><span id="VALexists"><span class="keyword">let</span> exists</span> : <code class="type">('a => bool) => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a => bool</code></pre><div class="info ">
<code class="code">exists f e</code> returns <code class="code"><span class="keyword">true</span></code> if there is some <code class="code">x</code> in <code class="code">e</code> such
    that <code class="code">f x</code><br>
</div>

<pre><span id="VALfor_all"><span class="keyword">let</span> for_all</span> : <code class="type">('a => bool) => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a => bool</code></pre><div class="info ">
<code class="code">exists f e</code> returns <code class="code"><span class="keyword">true</span></code> if for every <code class="code">x</code> in <code class="code">e</code>, <code class="code">f x</code> is true<br>
</div>

<pre><span id="VALfind"><span class="keyword">let</span> find</span> : <code class="type">('a => bool) => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a => 'a</code></pre><div class="info ">
<code class="code">find f e</code> returns the first element <code class="code">x</code> of <code class="code">e</code> such that <code class="code">f x</code> returns
    <code class="code"><span class="keyword">true</span></code>, consuming the enumeration up to and including the
    found element, or, raises <code class="code"><span class="constructor">Not_found</span></code> if no such element exists
    in the enumeration, consuming the whole enumeration in the search.
<p>

    Since <code class="code">find</code> consumes a prefix of the enumeration, it can be used several
    times on the same enumeration to find the next element.<br>
<b>Raises</b> <code>Not_found</code> if no element in the whole enumeration satisfies the predicate<br>
</div>

<pre><span id="VALpeek"><span class="keyword">let</span> peek</span> : <code class="type"><a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a => option 'a</code></pre><div class="info ">
<code class="code">peek e</code> returns <code class="code"><span class="constructor">None</span></code> if <code class="code">e</code> is empty or <code class="code"><span class="constructor">Some</span> x</code> where <code class="code">x</code> is
    the next element of <code class="code">e</code>. The element is not removed from the
    enumeration.<br>
</div>

<pre><span id="VALget"><span class="keyword">let</span> get</span> : <code class="type"><a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a => option 'a</code></pre><div class="info ">
<code class="code">get e</code> returns <code class="code"><span class="constructor">None</span></code> if <code class="code">e</code> is empty or <code class="code"><span class="constructor">Some</span> x</code> where <code class="code">x</code> is
    the next element of <code class="code">e</code>, in which case the element is removed
    from the enumeration.<br>
</div>

<pre><span id="VALpush"><span class="keyword">let</span> push</span> : <code class="type"><a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a => 'a => unit</code></pre><div class="info ">
<code class="code">push e x</code> will add <code class="code">x</code> at the beginning of <code class="code">e</code>.<br>
</div>

<pre><span id="VALjunk"><span class="keyword">let</span> junk</span> : <code class="type"><a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a => unit</code></pre><div class="info ">
<code class="code">junk e</code> removes the first element from the enumeration, if any.<br>
</div>

<pre><span id="VALfilter"><span class="keyword">let</span> filter</span> : <code class="type">('a => bool) => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a</code></pre><div class="info ">
<code class="code">filter f e</code> returns an enumeration over all elements <code class="code">x</code> of <code class="code">e</code> such
    as <code class="code">f x</code> returns <code class="code"><span class="keyword">true</span></code>.<br>
</div>

<pre><span id="VAL(//)"><span class="keyword">let</span> (//)</span> : <code class="type"><a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a => ('a => bool) => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a</code></pre><div class="info ">
Filtering (pronounce this operator name "such that").
<p>

    For instance, <code class="code">(1 -- 37) // odd</code> is the enumeration of all odd
    numbers between 1 and 37.<br>
</div>

<pre><span id="VALconcat"><span class="keyword">let</span> concat</span> : <code class="type"><a href="BatEnum.html#TYPEt">BatEnum.t</a> (<a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a) => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a</code></pre><div class="info ">
<code class="code">concat e</code> returns an enumeration over all elements of all enumerations
    of <code class="code">e</code>.<br>
</div>

<pre><span id="VAL(--)"><span class="keyword">let</span> (--)</span> : <code class="type">int => int => <a href="BatEnum.html#TYPEt">BatEnum.t</a> int</code></pre><div class="info ">
Enumerate numbers.
<p>

    <code class="code">5 -- 10</code> is the enumeration 5,6,7,8,9,10.
    <code class="code">10 -- 5</code> is the empty enumeration<br>
</div>

<pre><span id="VAL(--^)"><span class="keyword">let</span> (--^)</span> : <code class="type">int => int => <a href="BatEnum.html#TYPEt">BatEnum.t</a> int</code></pre><div class="info ">
Enumerate numbers, without the right endpoint
<p>

    <code class="code">5 -- 10</code> is the enumeration 5,6,7,8,9.<br>
</div>

<pre><span id="VAL(--.)"><span class="keyword">let</span> (--.)</span> : <code class="type">(float, float) => float => <a href="BatEnum.html#TYPEt">BatEnum.t</a> float</code></pre><div class="info ">
<code class="code">(a, step) --. b)</code> creates a float enumeration from <code class="code">a</code> to <code class="code">b</code> with an
    increment of <code class="code">step</code> between elements.
<p>

    <code class="code">(5.0, 1.0) --. 10.0</code> is the enumeration 5.0,6.0,7.0,8.0,9.0,10.0.
    <code class="code">(10.0, -1.0) --. 5.0</code> is the enumeration 10.0,9.0,8.0,7.0,6.0,5.0.
    <code class="code">(10.0, 1.0) --. 1.0</code> is the empty enumeration.<br>
</div>

<pre><span id="VAL(---)"><span class="keyword">let</span> (---)</span> : <code class="type">int => int => <a href="BatEnum.html#TYPEt">BatEnum.t</a> int</code></pre><div class="info ">
As <code class="code">--</code>, but accepts enumerations in reverse order.
<p>

    <code class="code">5 --- 10</code> is the enumeration 5,6,7,8,9,10.
    <code class="code">10 --- 5</code> is the enumeration 10,9,8,7,6,5.<br>
</div>

<pre><span id="VAL(--~)"><span class="keyword">let</span> (--~)</span> : <code class="type">char => char => <a href="BatEnum.html#TYPEt">BatEnum.t</a> char</code></pre><div class="info ">
As ( -- ), but for characters.<br>
</div>

<pre><span id="VALprint"><span class="keyword">let</span> print</span> : <code class="type">first::string? =><br>       last::string? =><br>       sep::string? =><br>       (<a href="BatInnerIO.html#TYPEoutput">BatInnerIO.output</a> 'a => 'b => unit) =><br>       <a href="BatInnerIO.html#TYPEoutput">BatInnerIO.output</a> 'a => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'b => unit</code></pre><div class="info ">
Print and consume the contents of an enumeration.<br>
</div>
<br>
<h6 id="6_Results">Results</h6><br>

<pre><span id="TYPEresult"><span class="keyword">type</span> result <code class="type">'a 'b</code></span> = <code class="type"><a href="BatInnerPervasives.html#TYPEresult">BatInnerPervasives.result</a> 'a 'b</code> = </pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTresult.Ok"><span class="constructor">Ok</span></span> <span class="keyword">of</span> <code class="type">'a</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTresult.Bad"><span class="constructor">Bad</span></span> <span class="keyword">of</span> <code class="type">'b</code></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
The result of a computation - either an <code class="code"><span class="constructor">Ok</span></code> with the normal
      result or a <code class="code"><span class="constructor">Bad</span></code> with some value (often an exception) containing
      failure information<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr></table>

<div class="info ">
This type represents the outcome of a function which has the
    possibility of failure.  Normal results of type <code class="code"><span class="keywordsign">'</span>a</code> are marked
    with <code class="code"><span class="constructor">Ok</span></code>, while failure values of type <code class="code"><span class="keywordsign">'</span>b</code> are marked with
    <code class="code"><span class="constructor">Bad</span></code>.
<p>

    This is intended to be a safer alternative to functions raising
    exceptions to signal failure.  It is safer in that the possibility
    of failure has to be handled before the result of that computation
    can be used.
<p>

    For more functions related to this type, see the <a href="BatResult.html"><code class="code"><span class="constructor">BatResult</span></code></a> module.<br>
</div>


<pre><span id="VALignore_ok"><span class="keyword">let</span> ignore_ok</span> : <code class="type"><a href="BatPervasives.html#TYPEresult">result</a> 'a exn => unit</code></pre><div class="info ">
<code class="code">ignore_ok (f x)</code> ignores the result of <code class="code">f x</code> if it's ok, but
    throws the exception contained if <code class="code"><span class="constructor">Bad</span></code> is returned.<br>
</div>

<pre><span id="VALok"><span class="keyword">let</span> ok</span> : <code class="type"><a href="BatPervasives.html#TYPEresult">result</a> 'a exn => 'a</code></pre><div class="info ">
<code class="code">f x |&gt; ok</code> unwraps the <code class="code"><span class="constructor">Ok</span></code> result of <code class="code">f x</code> and returns it, or
    throws the exception contained if <code class="code"><span class="constructor">Bad</span></code> is returned.<br>
</div>

<pre><span id="VALwrap"><span class="keyword">let</span> wrap</span> : <code class="type">('a => 'b) => 'a => <a href="BatPervasives.html#TYPEresult">result</a> 'b exn</code></pre><div class="info ">
<code class="code">wrap f x</code> wraps a function that would normally throw an exception
    on failure such that it now returns a result with either the <code class="code"><span class="constructor">Ok</span></code>
    return value or the <code class="code"><span class="constructor">Bad</span></code> exception.<br>
</div>
<br>
<h6 id="6_Threadsafetyinternals">Thread-safety internals</h6>
<p>

   Unless you are attempting to adapt Batteries Included to a new model of
   concurrency, you probably won't need this.<br>

<pre><span id="VALlock"><span class="keyword">let</span> lock</span> : <code class="type">Pervasives.ref <a href="BatConcurrent.html#TYPElock">BatConcurrent.lock</a></code></pre><div class="info ">
A lock used to synchronize internal operations.
<p>

     By default, this is <a href="BatConcurrent.html#VALnolock"><code class="code"><span class="constructor">BatConcurrent</span>.nolock</code></a>. However, if you're
     using a version of Batteries compiled in threaded mode, this uses
     <a href="BatMutex.html"><code class="code"><span class="constructor">BatMutex</span></code></a>. If you're attempting to use Batteries with another
     concurrency model, set the lock appropriately.<br>
</div>
</body></html>