<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="BatIMap.html">
<link rel="next" href="BatISet.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="BatArray" rel="Chapter" href="BatArray.html">
<link title="BatAvlTree" rel="Chapter" href="BatAvlTree.html">
<link title="BatBase64" rel="Chapter" href="BatBase64.html">
<link title="BatBig_int" rel="Chapter" href="BatBig_int.html">
<link title="BatBigarray" rel="Chapter" href="BatBigarray.html">
<link title="BatBitSet" rel="Chapter" href="BatBitSet.html">
<link title="BatBool" rel="Chapter" href="BatBool.html">
<link title="BatBounded" rel="Chapter" href="BatBounded.html">
<link title="BatBuffer" rel="Chapter" href="BatBuffer.html">
<link title="BatBytes" rel="Chapter" href="BatBytes.html">
<link title="BatCache" rel="Chapter" href="BatCache.html">
<link title="BatChar" rel="Chapter" href="BatChar.html">
<link title="BatCharParser" rel="Chapter" href="BatCharParser.html">
<link title="BatComplex" rel="Chapter" href="BatComplex.html">
<link title="BatConcurrent" rel="Chapter" href="BatConcurrent.html">
<link title="BatDeque" rel="Chapter" href="BatDeque.html">
<link title="BatDigest" rel="Chapter" href="BatDigest.html">
<link title="BatDllist" rel="Chapter" href="BatDllist.html">
<link title="BatDynArray" rel="Chapter" href="BatDynArray.html">
<link title="BatEnum" rel="Chapter" href="BatEnum.html">
<link title="BatFile" rel="Chapter" href="BatFile.html">
<link title="BatFingerTree" rel="Chapter" href="BatFingerTree.html">
<link title="BatFloat" rel="Chapter" href="BatFloat.html">
<link title="BatFormat" rel="Chapter" href="BatFormat.html">
<link title="BatGc" rel="Chapter" href="BatGc.html">
<link title="BatGenlex" rel="Chapter" href="BatGenlex.html">
<link title="BatGlobal" rel="Chapter" href="BatGlobal.html">
<link title="BatHashcons" rel="Chapter" href="BatHashcons.html">
<link title="BatHashtbl" rel="Chapter" href="BatHashtbl.html">
<link title="BatHeap" rel="Chapter" href="BatHeap.html">
<link title="BatIMap" rel="Chapter" href="BatIMap.html">
<link title="BatIO" rel="Chapter" href="BatIO.html">
<link title="BatISet" rel="Chapter" href="BatISet.html">
<link title="BatInnerIO" rel="Chapter" href="BatInnerIO.html">
<link title="BatInnerPervasives" rel="Chapter" href="BatInnerPervasives.html">
<link title="BatInnerWeaktbl" rel="Chapter" href="BatInnerWeaktbl.html">
<link title="BatInt" rel="Chapter" href="BatInt.html">
<link title="BatInt32" rel="Chapter" href="BatInt32.html">
<link title="BatInt64" rel="Chapter" href="BatInt64.html">
<link title="BatInterfaces" rel="Chapter" href="BatInterfaces.html">
<link title="BatLazyList" rel="Chapter" href="BatLazyList.html">
<link title="BatLexing" rel="Chapter" href="BatLexing.html">
<link title="BatList" rel="Chapter" href="BatList.html">
<link title="BatLog" rel="Chapter" href="BatLog.html">
<link title="BatLogger" rel="Chapter" href="BatLogger.html">
<link title="BatMap" rel="Chapter" href="BatMap.html">
<link title="BatMarshal" rel="Chapter" href="BatMarshal.html">
<link title="BatMultiMap" rel="Chapter" href="BatMultiMap.html">
<link title="BatMultiPMap" rel="Chapter" href="BatMultiPMap.html">
<link title="BatMutex" rel="Chapter" href="BatMutex.html">
<link title="BatNativeint" rel="Chapter" href="BatNativeint.html">
<link title="BatNum" rel="Chapter" href="BatNum.html">
<link title="BatNumber" rel="Chapter" href="BatNumber.html">
<link title="BatOo" rel="Chapter" href="BatOo.html">
<link title="BatOptParse" rel="Chapter" href="BatOptParse.html">
<link title="BatOption" rel="Chapter" href="BatOption.html">
<link title="BatOrd" rel="Chapter" href="BatOrd.html">
<link title="BatParserCo" rel="Chapter" href="BatParserCo.html">
<link title="BatPathGen" rel="Chapter" href="BatPathGen.html">
<link title="BatPervasives" rel="Chapter" href="BatPervasives.html">
<link title="BatPrintexc" rel="Chapter" href="BatPrintexc.html">
<link title="BatPrintf" rel="Chapter" href="BatPrintf.html">
<link title="BatQueue" rel="Chapter" href="BatQueue.html">
<link title="BatRMutex" rel="Chapter" href="BatRMutex.html">
<link title="BatRandom" rel="Chapter" href="BatRandom.html">
<link title="BatRef" rel="Chapter" href="BatRef.html">
<link title="BatRefList" rel="Chapter" href="BatRefList.html">
<link title="BatResult" rel="Chapter" href="BatResult.html">
<link title="BatReturn" rel="Chapter" href="BatReturn.html">
<link title="BatScanf" rel="Chapter" href="BatScanf.html">
<link title="BatSeq" rel="Chapter" href="BatSeq.html">
<link title="BatSet" rel="Chapter" href="BatSet.html">
<link title="BatSplay" rel="Chapter" href="BatSplay.html">
<link title="BatStack" rel="Chapter" href="BatStack.html">
<link title="BatStream" rel="Chapter" href="BatStream.html">
<link title="BatString" rel="Chapter" href="BatString.html">
<link title="BatSubstring" rel="Chapter" href="BatSubstring.html">
<link title="BatSys" rel="Chapter" href="BatSys.html">
<link title="BatText" rel="Chapter" href="BatText.html">
<link title="BatTuple" rel="Chapter" href="BatTuple.html">
<link title="BatUChar" rel="Chapter" href="BatUChar.html">
<link title="BatUTF8" rel="Chapter" href="BatUTF8.html">
<link title="BatUnit" rel="Chapter" href="BatUnit.html">
<link title="BatUnix" rel="Chapter" href="BatUnix.html">
<link title="BatUref" rel="Chapter" href="BatUref.html">
<link title="BatVect" rel="Chapter" href="BatVect.html">
<link title="Batteries" rel="Chapter" href="Batteries.html">
<link title="BatteriesConfig" rel="Chapter" href="BatteriesConfig.html">
<link title="BatteriesExceptionless" rel="Chapter" href="BatteriesExceptionless.html">
<link title="BatteriesPrint" rel="Chapter" href="BatteriesPrint.html">
<link title="BatteriesThread" rel="Chapter" href="BatteriesThread.html">
<link title="Extlib" rel="Chapter" href="Extlib.html"><link title="Standard inputs/outputs" rel="Section" href="#6_Standardinputsoutputs">
<link title="Standard API" rel="Section" href="#6_StandardAPI">
<link title="Debugging facilities" rel="Section" href="#6_Debuggingfacilities">
<title>Batteries user guide : BatIO</title>
</head>
<body>
<div class="navbar"><a class="pre" href="BatIMap.html" title="BatIMap">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="BatISet.html" title="BatISet">Next</a>
</div>
<h1>Module <a href="type_BatIO.html">BatIO</a></h1>

<pre><span class="keyword">module</span> BatIO: <code class="code">{</code> <a href="BatIO.html">..</a> <code class="code">}</code></pre><div class="info module top">
High-order abstract I/O.
<p>

    This module deals with <a href="BatIO.html#TYPEinput"><code class="code"><span class="constructor">BatIO</span>.input</code></a>s and <a href="BatIO.html#TYPEoutput"><code class="code"><span class="constructor">BatIO</span>.output</code></a>s. Inputs are manners of getting information from the
    outside world and into your program (for instance, reading from
    the network, from a file, etc.)  Outputs are manners of getting
    information out from your program and into the outside world (for
    instance, sending something onto the network, onto a file, etc.)
    In other words, if you are looking for a way to modify files, read
    from the network, etc., you're in the right place.
<p>

    To perform I/O, you first need to <em>open</em> your <a href="BatIO.html#TYPEinput"><code class="code"><span class="constructor">BatIO</span>.input</code></a> or
    your <a href="BatIO.html#TYPEoutput"><code class="code"><span class="constructor">BatIO</span>.output</code></a>. Chances are that there is an <em>opening</em>
    operation for this task. Note that most opening operations are
    defined in their respective module.  Operations for opening files
    are defined in module <code class="code"><span class="constructor">File</span></code>, operations for opening
    communications with the network or with other processes are
    defined in module <code class="code"><span class="constructor">Unix</span></code>. Opening operations related to
    compression and decompression are defined in module <code class="code"><span class="constructor">Compress</span></code>,
    etc.
<p>

    Once you have opened an <a href="BatIO.html#TYPEinput"><code class="code"><span class="constructor">BatIO</span>.input</code></a>, you may read the data it
    contains by using functions such as <a href="BatIO.html#VALread"><code class="code"><span class="constructor">BatIO</span>.read</code></a> (to read one
    character), <a href="BatIO.html#VALnread"><code class="code"><span class="constructor">BatIO</span>.nread</code></a> or <a href="BatIO.html#VALinput"><code class="code"><span class="constructor">BatIO</span>.input</code></a> (to read one string) or one
    of the <code class="code">read_*</code> functions. If you need not one information but a
    complete enumeration, for instance for processing many information
    before writing them, you may also convert the input into an
    enumeration, by using one of the <code class="code">*s_of</code> functions.
<p>

    Once you have opened an <a href="BatIO.html#TYPEoutput"><code class="code"><span class="constructor">BatIO</span>.output</code></a>, you may write data to
    this output by using functions scuh as <a href="BatIO.html#VALwrite"><code class="code"><span class="constructor">BatIO</span>.write</code></a> (to write one
    char), <a href="BatIO.html#VALnwrite"><code class="code"><span class="constructor">BatIO</span>.nwrite</code></a> or <a href="BatIO.html#VALoutput"><code class="code"><span class="constructor">BatIO</span>.output</code></a> (to write one string) or one of
    the <code class="code">write_*</code> functions. If you have not just one piece of data
    but a complete enumeration, you may write this whole enumeration
    to the output by using one of the <code class="code">write_*s</code> functions. Note that
    most operations on output are said to be <em>buffered</em>. This means
    that small writing operations may be automatically delayed and
    grouped into large writing operations, as these are generally
    faster and induce less wear on the hardware. Occasionally, you
    may wish to force all waiting operations to take place <em>now</em>.
    For this purpose, you may either function <a href="BatIO.html#VALflush"><code class="code"><span class="constructor">BatIO</span>.flush</code></a> or function
    I    <code class="code">flush_out</code>.
<p>

    Once you have finished using your <a href="BatIO.html#TYPEinput"><code class="code"><span class="constructor">BatIO</span>.input</code></a> or your <a href="BatIO.html#TYPEoutput"><code class="code"><span class="constructor">BatIO</span>.output</code></a>, chances are that you will want to close it. This is not a
    strict necessity, as OCaml will eventually close it for you when
    it detects that you have no more need of that <a href="BatIO.html#TYPEinput"><code class="code"><span class="constructor">BatIO</span>.input</code></a>/<a href="BatIO.html#TYPEoutput"><code class="code"><span class="constructor">BatIO</span>.output</code></a>, but this is generally a good policy, as
    this will let other programs access the resources which are
    currently allocated to that <a href="BatIO.html#TYPEinput"><code class="code"><span class="constructor">BatIO</span>.input</code></a>/<a href="BatIO.html#TYPEoutput"><code class="code"><span class="constructor">BatIO</span>.output</code></a> --
    typically, under Windows, if you are reading the contents of a
    file from a program, no other program may read the contents of
    that file simultaneously and you may also not rename or move the
    file to another directory. To close an <a href="BatIO.html#TYPEinput"><code class="code"><span class="constructor">BatIO</span>.input</code></a>, use
    function <a href="BatIO.html#VALclose_in"><code class="code"><span class="constructor">BatIO</span>.close_in</code></a> and to close an <a href="BatIO.html#TYPEoutput"><code class="code"><span class="constructor">BatIO</span>.output</code></a>, use function
    <a href="BatIO.html#VALclose_out"><code class="code"><span class="constructor">BatIO</span>.close_out</code></a>.
<p>

    <b>Note</b> Some <a href="BatIO.html#TYPEinput"><code class="code"><span class="constructor">BatIO</span>.input</code></a>s are built on top of other
    <a href="BatIO.html#TYPEinput"><code class="code"><span class="constructor">BatIO</span>.input</code></a>s to provide transparent translations (e.g.
    on-the-fly decompression of a file or network information) and
    that some <a href="BatIO.html#TYPEoutput"><code class="code"><span class="constructor">BatIO</span>.output</code></a>s are built on top of other
    <a href="BatIO.html#TYPEoutput"><code class="code"><span class="constructor">BatIO</span>.output</code></a>s for the same purpose (e.g. on-the-fly compression
    of a file or network information). In this case, closing the
    "outer" <a href="BatIO.html#TYPEinput"><code class="code"><span class="constructor">BatIO</span>.input</code></a>/<a href="BatIO.html#TYPEoutput"><code class="code"><span class="constructor">BatIO</span>.output</code></a> (e.g. the
    decompressor/compressor) will <em>not</em> close the "inner"
    <a href="BatIO.html#TYPEinput"><code class="code"><span class="constructor">BatIO</span>.input</code></a>/<a href="BatIO.html#TYPEoutput"><code class="code"><span class="constructor">BatIO</span>.output</code></a> (e.g. access to the file or to the
    network). You will need to close the "inner"
    <a href="BatIO.html#TYPEinput"><code class="code"><span class="constructor">BatIO</span>.input</code></a>/<a href="BatIO.html#TYPEoutput"><code class="code"><span class="constructor">BatIO</span>.output</code></a>, which will automatically flush
    the outer <a href="BatIO.html#TYPEinput"><code class="code"><span class="constructor">BatIO</span>.input</code></a>/<a href="BatIO.html#TYPEoutput"><code class="code"><span class="constructor">BatIO</span>.output</code></a> and close it.<br>
<b>Author(s):</b> Nicolas Cannasse, David Teller, Philippe Strauss, Edgar Friendly<br>
</div>
<hr width="100%">

<pre><span id="TYPEinput"><span class="keyword">type</span> input<code class="type"></code></span> = <code class="type"><a href="BatInnerIO.html#TYPEinput">BatInnerIO.input</a></code> </pre>
<div class="info ">
The abstract input type.<br>
</div>


<pre><span id="TYPEoutput"><span class="keyword">type</span> output <code class="type">'a</code></span> = <code class="type"><a href="BatInnerIO.html#TYPEoutput">BatInnerIO.output</a> 'a</code> </pre>
<div class="info ">
The abstract output type, <code class="code"><span class="keywordsign">'</span>a</code> is the accumulator data, it is returned
    when the <code class="code">close_out</code> function is called.<br>
</div>


<pre><span id="TYPEprinter"><span class="keyword">type</span> printer <code class="type">'a 'b</code></span> = <code class="type"><a href="BatIO.html#TYPEoutput">output</a> 'b => 'a => unit</code> </pre>
<div class="info ">
The type of a printing function to print a <code class="code"><span class="keywordsign">'</span>a</code> to an output that
    produces <code class="code"><span class="keywordsign">'</span>b</code> as result.<br>
</div>


<pre><span id="TYPEf_printer"><span class="keyword">type</span> f_printer <code class="type">'a</code></span> = <code class="type">Format.formatter => 'a => unit</code> </pre>


<pre><span id="EXCEPTIONNo_more_input"><span class="keyword">exception</span> No_more_input</span></pre>
<div class="info ">
This exception is raised when reading on an input with the <code class="code">read</code> or
    <code class="code">nread</code> functions while there is no available token to read.<br>
</div>

<pre><span id="EXCEPTIONInput_closed"><span class="keyword">exception</span> Input_closed</span></pre>
<div class="info ">
This exception is raised when reading on a closed input.<br>
</div>

<pre><span id="EXCEPTIONOutput_closed"><span class="keyword">exception</span> Output_closed</span></pre>
<div class="info ">
This exception is raised when reading on a closed output.<br>
</div>
<br>
<h6 id="6_Standardinputsoutputs">Standard inputs/outputs</h6><br>

<pre><span id="VALstdin"><span class="keyword">let</span> stdin</span> : <code class="type"><a href="BatIO.html#TYPEinput">input</a></code></pre><div class="info ">
Standard input, as per Unix/Windows conventions (by default, keyboard).
<p>

    Example: <code class="code"><span class="keyword">if</span> read_line stdin |&gt; <span class="constructor">Int</span>.of_string &gt; 10 <span class="keyword">then</span> failwith <span class="string">"too big a number read"</span>; </code><br>
</div>

<pre><span id="VALstdout"><span class="keyword">let</span> stdout</span> : <code class="type"><a href="BatIO.html#TYPEoutput">output</a> unit</code></pre><div class="info ">
Standard output, as per Unix/Windows conventions (by default, console).
<p>

    Use this output to display regular messages.
    Example: <code class="code">
       write_string stdout <span class="string">"Enter your name:"</span>;
       <span class="keyword">let</span> name = read_line stdin <span class="keyword">in</span>
       write_line stdout (<span class="string">"Your name is "</span> ^ name);
    </code><br>
</div>

<pre><span id="VALstderr"><span class="keyword">let</span> stderr</span> : <code class="type"><a href="BatIO.html#TYPEoutput">output</a> unit</code></pre><div class="info ">
Standard error output, as per Unix/Windows conventions.
<p>

    Use this output to display warnings and error messages.
<p>

    Example: <code class="code">
       write_line stderr <span class="string">"Error on Internet - please delete google.com"</span>;
    </code><br>
</div>

<pre><span id="VALstdnull"><span class="keyword">let</span> stdnull</span> : <code class="type"><a href="BatIO.html#TYPEoutput">output</a> unit</code></pre><div class="info ">
An output which discards everything written to it.
<p>

    Use this output to ignore messages.
<p>

    Example: <code class="code">
      <span class="keyword">let</span> out_ch = <span class="keyword">if</span> debug <span class="keyword">then</span> stderr <span class="keyword">else</span> stdnull <span class="keyword">in</span>
      write_line out_ch <span class="string">"Program running."</span>;
    </code><br>
</div>
<br>
<h6 id="6_StandardAPI">Standard API</h6><br>

<pre><span id="VALread"><span class="keyword">let</span> read</span> : <code class="type"><a href="BatIO.html#TYPEinput">input</a> => char</code></pre><div class="info ">
Read a single char from an input or raise <code class="code"><span class="constructor">No_more_input</span></code> if
    no input is available.
<p>

    Example: <code class="code"><span class="keyword">let</span> <span class="keyword">rec</span> skip_line ch = <span class="keyword">if</span> read ch = <span class="string">'\n'</span> <span class="keyword">then</span> skip_line ch <span class="keyword">else</span> ();</code><br>
</div>

<pre><span id="VALnread"><span class="keyword">let</span> nread</span> : <code class="type"><a href="BatIO.html#TYPEinput">input</a> => int => string</code></pre><div class="info ">
<code class="code">nread i n</code> reads a string of size up to <code class="code">n</code> from an input.
    The function will raise <code class="code"><span class="constructor">No_more_input</span></code> if no input is available.
    It will raise <code class="code"><span class="constructor">Invalid_argument</span></code> if <code class="code">n</code> &lt; 0.
<p>

    Example: <code class="code"><span class="keyword">let</span> read_md5 ch = nread ch 32</code><br>
</div>

<pre><span id="VALreally_nread"><span class="keyword">let</span> really_nread</span> : <code class="type"><a href="BatIO.html#TYPEinput">input</a> => int => string</code></pre><div class="info ">
<code class="code">really_nread i n</code> reads a string of exactly <code class="code">n</code> characters
    from the input.<br>
<b>Raises</b><ul><li><code>No_more_input</code> if at least <code class="code">n</code> characters are
    not available.</li>
<li><code>Invalid_argument</code> if <code class="code">n</code> &lt; 0.
<p>

    Example: <code class="code"><span class="keyword">let</span> read_md5 ch = really_nread ch 32</code></li>
</ul>
</div>

<pre><span id="VALinput"><span class="keyword">let</span> input</span> : <code class="type"><a href="BatIO.html#TYPEinput">input</a> => string => int => int => int</code></pre><div class="info ">
<code class="code">input i s p l</code> reads up to <code class="code">l</code> characters from the given input,
    storing them in string <code class="code">s</code>, starting at character number <code class="code">p</code>. It
    returns the actual number of characters read (which may be 0) or
    raise <code class="code"><span class="constructor">No_more_input</span></code> if no character can be read. It will raise
    <code class="code"><span class="constructor">Invalid_argument</span></code> if <code class="code">p</code> and <code class="code">l</code> do not designate a valid
    substring of <code class="code">s</code>.
<p>

    Example: <code class="code"><span class="keyword">let</span> map_ch f ?(block_size=100) =
    <span class="keyword">let</span> b = <span class="constructor">String</span>.create block_size <span class="keyword">in</span>
    <span class="keyword">try</span> <span class="keyword">while</span> <span class="keyword">true</span> <span class="keyword">do</span>
      <span class="keyword">let</span> l = input ch b 0 block_size <span class="keyword">in</span>
      f b 0 l;
    <span class="keyword">done</span> <span class="keyword">with</span> <span class="constructor">No_more_input</span> <span class="keywordsign">-&gt;</span> ()</code><br>
</div>

<pre><span id="VALreally_input"><span class="keyword">let</span> really_input</span> : <code class="type"><a href="BatIO.html#TYPEinput">input</a> => string => int => int => int</code></pre><div class="info ">
<code class="code">really_input i s p l</code> reads exactly <code class="code">l</code> characters from the
    given input, storing them in the string <code class="code">s</code>, starting at
    position <code class="code">p</code>. For consistency with <a href="BatIO.html#VALinput"><code class="code"><span class="constructor">BatIO</span>.input</code></a> it returns
    <code class="code">l</code>.<br>
<b>Raises</b><ul><li><code>No_more_input</code> if at <code class="code">l</code> characters are not
    available.</li>
<li><code>Invalid_argument</code> if <code class="code">p</code> and <code class="code">l</code> do not
    designate a valid substring of <code class="code">s</code>.
<p>

    Example: <code class="code"><span class="keyword">let</span> _ = really_input stdin b 0 3</code></li>
</ul>
</div>

<pre><span id="VALclose_in"><span class="keyword">let</span> close_in</span> : <code class="type"><a href="BatIO.html#TYPEinput">input</a> => unit</code></pre><div class="info ">
Close the input. It can no longer be read from.
<p>

    Example: <code class="code">close_in network_in;</code><br>
</div>

<pre><span id="VALwrite"><span class="keyword">let</span> write</span> : <code class="type"><a href="BatIO.html#TYPEprinter">printer</a> char 'a</code></pre><div class="info ">
Write a single char to an output.
<p>

    Example: <code class="code">write stdout <span class="string">'x'</span>;</code><br>
</div>

<pre><span id="VALnwrite"><span class="keyword">let</span> nwrite</span> : <code class="type"><a href="BatIO.html#TYPEprinter">printer</a> string 'a</code></pre><div class="info ">
Write a string to an output.
<p>

    Example: <code class="code">nwrite stdout <span class="string">"Enter your name: "</span>;</code><br>
</div>

<pre><span id="VALoutput"><span class="keyword">let</span> output</span> : <code class="type"><a href="BatIO.html#TYPEoutput">output</a> 'a => string => int => int => int</code></pre><div class="info ">
<code class="code">output o s p l</code> writes up to <code class="code">l</code> characters from string <code class="code">s</code>, starting at
    offset <code class="code">p</code>. It returns the number of characters written. It will raise
    <code class="code"><span class="constructor">Invalid_argument</span></code> if <code class="code">p</code> and <code class="code">l</code> do not designate a valid substring of <code class="code">s</code>.
<p>

    Example: <code class="code"><span class="keyword">let</span> str = <span class="string">"Foo Bar Baz"</span> <span class="keyword">in</span> <span class="keyword">let</span> written = output stdout str 2 4;</code>
<p>

    This writes "o Ba" to stdout.<br>
</div>

<pre><span id="VALreally_output"><span class="keyword">let</span> really_output</span> : <code class="type"><a href="BatIO.html#TYPEoutput">output</a> 'a => string => int => int => int</code></pre><div class="info ">
<code class="code">really_output o s p l</code> writes exactly <code class="code">l</code> characters from string <code class="code">s</code> onto
    the the output, starting with the character at offset <code class="code">p</code>. For consistency with
    <a href="BatIO.html#VALoutput"><code class="code"><span class="constructor">BatIO</span>.output</code></a> it returns <code class="code">l</code>.<br>
<b>Raises</b> <code>Invalid_argument</code> if <code class="code">p</code> and <code class="code">l</code> do not
    designate a valid substring of <code class="code">s</code>.
<p>

    This function is useful for networking situations where the output
    buffer might fill resulting in not the entire substring being
    readied for transmission.  Uses <code class="code">output</code> internally, and will
    raise <code class="code"><span class="constructor">Sys_blocked_io</span></code> in the case that any call returns 0.<br>
</div>

<pre><span id="VALflush"><span class="keyword">let</span> flush</span> : <code class="type"><a href="BatIO.html#TYPEoutput">output</a> 'a => unit</code></pre><div class="info ">
Flush an output.
<p>

    If previous write operations have caused errors, this may trigger an exception.
<p>

    Example: <code class="code">flush stdout;</code><br>
</div>

<pre><span id="VALflush_all"><span class="keyword">let</span> flush_all</span> : <code class="type">unit => unit</code></pre><div class="info ">
Flush all outputs, ignore errors.
<p>

    Example: <code class="code">flush_all ();</code><br>
</div>

<pre><span id="VALclose_out"><span class="keyword">let</span> close_out</span> : <code class="type"><a href="BatIO.html#TYPEoutput">output</a> 'a => 'a</code></pre><div class="info ">
Close the output and return its accumulator data.
<p>

    The output is flushed before being closed and can no longer be
    written. Attempting to flush or write after the output has been
    closed will have no effect.
<p>

    Example: <code class="code">
    <span class="keyword">let</span> strout = output_string () <span class="keyword">in</span>
    write strout <span class="string">'x'</span>;
    <span class="keyword">if</span> 2+3&gt;5 <span class="keyword">then</span> write strout <span class="string">"y"</span>;
    print_string (close_out strout) </code><br>
</div>

<pre><span id="VALcomb"><span class="keyword">let</span> comb</span> : <code class="type">(<a href="BatIO.html#TYPEoutput">output</a> 'a, <a href="BatIO.html#TYPEoutput">output</a> 'a) => <a href="BatIO.html#TYPEoutput">output</a> 'a</code></pre><div class="info ">
Old name of <code class="code">combine</code><br>
</div>

<pre><span id="VALmake_enum"><span class="keyword">let</span> make_enum</span> : <code class="type">(<a href="BatIO.html#TYPEinput">input</a> => 'a) => <a href="BatIO.html#TYPEinput">input</a> => <a href="BatEnum.html#TYPEt">BatEnum.t</a> 'a</code></pre><br>
<h6 id="6_Debuggingfacilities">Debugging facilities</h6><br>

<pre><span id="VALget_output_id"><span class="keyword">let</span> get_output_id</span> : <code class="type"><a href="BatIO.html#TYPEoutput">output</a> 'a => int</code></pre>
<pre><span id="VALget_input_id"><span class="keyword">let</span> get_input_id</span> : <code class="type"><a href="BatIO.html#TYPEinput">input</a> => int</code></pre>
<pre><span class="keyword">module</span> <a href="BatIO.Incubator.html">Incubator</a>: <code class="code">{</code> <a href="BatIO.Incubator.html">..</a> <code class="code">}</code></pre></body></html>