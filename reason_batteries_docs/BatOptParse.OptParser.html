<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="BatOptParse.Formatter.html">
<link rel="Up" href="BatOptParse.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="BatArray" rel="Chapter" href="BatArray.html">
<link title="BatAvlTree" rel="Chapter" href="BatAvlTree.html">
<link title="BatBase64" rel="Chapter" href="BatBase64.html">
<link title="BatBig_int" rel="Chapter" href="BatBig_int.html">
<link title="BatBigarray" rel="Chapter" href="BatBigarray.html">
<link title="BatBitSet" rel="Chapter" href="BatBitSet.html">
<link title="BatBool" rel="Chapter" href="BatBool.html">
<link title="BatBounded" rel="Chapter" href="BatBounded.html">
<link title="BatBuffer" rel="Chapter" href="BatBuffer.html">
<link title="BatBytes" rel="Chapter" href="BatBytes.html">
<link title="BatCache" rel="Chapter" href="BatCache.html">
<link title="BatChar" rel="Chapter" href="BatChar.html">
<link title="BatCharParser" rel="Chapter" href="BatCharParser.html">
<link title="BatComplex" rel="Chapter" href="BatComplex.html">
<link title="BatConcurrent" rel="Chapter" href="BatConcurrent.html">
<link title="BatDeque" rel="Chapter" href="BatDeque.html">
<link title="BatDigest" rel="Chapter" href="BatDigest.html">
<link title="BatDllist" rel="Chapter" href="BatDllist.html">
<link title="BatDynArray" rel="Chapter" href="BatDynArray.html">
<link title="BatEnum" rel="Chapter" href="BatEnum.html">
<link title="BatFile" rel="Chapter" href="BatFile.html">
<link title="BatFingerTree" rel="Chapter" href="BatFingerTree.html">
<link title="BatFloat" rel="Chapter" href="BatFloat.html">
<link title="BatFormat" rel="Chapter" href="BatFormat.html">
<link title="BatGc" rel="Chapter" href="BatGc.html">
<link title="BatGenlex" rel="Chapter" href="BatGenlex.html">
<link title="BatGlobal" rel="Chapter" href="BatGlobal.html">
<link title="BatHashcons" rel="Chapter" href="BatHashcons.html">
<link title="BatHashtbl" rel="Chapter" href="BatHashtbl.html">
<link title="BatHeap" rel="Chapter" href="BatHeap.html">
<link title="BatIMap" rel="Chapter" href="BatIMap.html">
<link title="BatIO" rel="Chapter" href="BatIO.html">
<link title="BatISet" rel="Chapter" href="BatISet.html">
<link title="BatInnerIO" rel="Chapter" href="BatInnerIO.html">
<link title="BatInnerPervasives" rel="Chapter" href="BatInnerPervasives.html">
<link title="BatInnerWeaktbl" rel="Chapter" href="BatInnerWeaktbl.html">
<link title="BatInt" rel="Chapter" href="BatInt.html">
<link title="BatInt32" rel="Chapter" href="BatInt32.html">
<link title="BatInt64" rel="Chapter" href="BatInt64.html">
<link title="BatInterfaces" rel="Chapter" href="BatInterfaces.html">
<link title="BatLazyList" rel="Chapter" href="BatLazyList.html">
<link title="BatLexing" rel="Chapter" href="BatLexing.html">
<link title="BatList" rel="Chapter" href="BatList.html">
<link title="BatLog" rel="Chapter" href="BatLog.html">
<link title="BatLogger" rel="Chapter" href="BatLogger.html">
<link title="BatMap" rel="Chapter" href="BatMap.html">
<link title="BatMarshal" rel="Chapter" href="BatMarshal.html">
<link title="BatMultiMap" rel="Chapter" href="BatMultiMap.html">
<link title="BatMultiPMap" rel="Chapter" href="BatMultiPMap.html">
<link title="BatMutex" rel="Chapter" href="BatMutex.html">
<link title="BatNativeint" rel="Chapter" href="BatNativeint.html">
<link title="BatNum" rel="Chapter" href="BatNum.html">
<link title="BatNumber" rel="Chapter" href="BatNumber.html">
<link title="BatOo" rel="Chapter" href="BatOo.html">
<link title="BatOptParse" rel="Chapter" href="BatOptParse.html">
<link title="BatOption" rel="Chapter" href="BatOption.html">
<link title="BatOrd" rel="Chapter" href="BatOrd.html">
<link title="BatParserCo" rel="Chapter" href="BatParserCo.html">
<link title="BatPathGen" rel="Chapter" href="BatPathGen.html">
<link title="BatPervasives" rel="Chapter" href="BatPervasives.html">
<link title="BatPrintexc" rel="Chapter" href="BatPrintexc.html">
<link title="BatPrintf" rel="Chapter" href="BatPrintf.html">
<link title="BatQueue" rel="Chapter" href="BatQueue.html">
<link title="BatRMutex" rel="Chapter" href="BatRMutex.html">
<link title="BatRandom" rel="Chapter" href="BatRandom.html">
<link title="BatRef" rel="Chapter" href="BatRef.html">
<link title="BatRefList" rel="Chapter" href="BatRefList.html">
<link title="BatResult" rel="Chapter" href="BatResult.html">
<link title="BatReturn" rel="Chapter" href="BatReturn.html">
<link title="BatScanf" rel="Chapter" href="BatScanf.html">
<link title="BatSeq" rel="Chapter" href="BatSeq.html">
<link title="BatSet" rel="Chapter" href="BatSet.html">
<link title="BatSplay" rel="Chapter" href="BatSplay.html">
<link title="BatStack" rel="Chapter" href="BatStack.html">
<link title="BatStream" rel="Chapter" href="BatStream.html">
<link title="BatString" rel="Chapter" href="BatString.html">
<link title="BatSubstring" rel="Chapter" href="BatSubstring.html">
<link title="BatSys" rel="Chapter" href="BatSys.html">
<link title="BatText" rel="Chapter" href="BatText.html">
<link title="BatTuple" rel="Chapter" href="BatTuple.html">
<link title="BatUChar" rel="Chapter" href="BatUChar.html">
<link title="BatUTF8" rel="Chapter" href="BatUTF8.html">
<link title="BatUnit" rel="Chapter" href="BatUnit.html">
<link title="BatUnix" rel="Chapter" href="BatUnix.html">
<link title="BatUref" rel="Chapter" href="BatUref.html">
<link title="BatVect" rel="Chapter" href="BatVect.html">
<link title="Batteries" rel="Chapter" href="Batteries.html">
<link title="BatteriesConfig" rel="Chapter" href="BatteriesConfig.html">
<link title="BatteriesExceptionless" rel="Chapter" href="BatteriesExceptionless.html">
<link title="BatteriesPrint" rel="Chapter" href="BatteriesPrint.html">
<link title="BatteriesThread" rel="Chapter" href="BatteriesThread.html">
<link title="Extlib" rel="Chapter" href="Extlib.html"><link title="Exceptions" rel="Section" href="#6_Exceptions">
<link title="Types" rel="Section" href="#6_Types">
<link title="Option parser creation" rel="Section" href="#6_Optionparsercreation">
<link title="Output and error handling" rel="Section" href="#6_Outputanderrorhandling">
<link title="Option parsing" rel="Section" href="#6_Optionparsing">
<title>Batteries user guide : BatOptParse.OptParser</title>
</head>
<body>
<div class="navbar"><a class="pre" href="BatOptParse.Formatter.html" title="BatOptParse.Formatter">Previous</a>
&nbsp;<a class="up" href="BatOptParse.html" title="BatOptParse">Up</a>
&nbsp;</div>
<h1>Module <a href="type_BatOptParse.OptParser.html">BatOptParse.OptParser</a></h1>

<pre><span class="keyword">module</span> OptParser: <code class="code">{</code> <a href="BatOptParse.OptParser.html">..</a> <code class="code">}</code></pre><div class="info module top">
This module contains the option parser itself.
<p>

    It provides functions to create, populate and use option parsers to
    parse command line arguments.<br>
</div>
<hr width="100%">
<br>
<h6 id="6_Exceptions">Exceptions</h6><br>

<pre><span id="EXCEPTIONOption_conflict"><span class="keyword">exception</span> Option_conflict</span> <span class="keyword">of</span> <code class="type">string</code></pre>
<div class="info ">
<code class="code"><span class="constructor">Option_conflict</span> name</code> is raised by <code class="code"><span class="constructor">OptParse</span>.<span class="constructor">OptParser</span>.add</code>
      when two different options are added with identical
      names. Usually this doesn't need to be caught since this error
      is usually easily fixed permanently by removing/renaming the
      conflicting option names.<br>
</div>
<br>
<h6 id="6_Types">Types</h6><br>

<pre><span id="TYPEt"><span class="keyword">type</span> t<code class="type"></code></span> </pre>
<div class="info ">
The type of an option parser.<br>
</div>


<pre><span id="TYPEgroup"><span class="keyword">type</span> group<code class="type"></code></span> </pre>
<div class="info ">
The type of an option group.<br>
</div>

<br>
<h6 id="6_Optionparsercreation">Option parser creation</h6><br>

<pre><span id="VALmake"><span class="keyword">let</span> make</span> : <code class="type">usage::string? =><br>       description::string? =><br>       version::string? =><br>       suppress_usage::bool? =><br>       suppress_help::bool? =><br>       only_leading_opts::bool? =><br>       prog::string? =><br>       formatter::<a href="BatOptParse.Formatter.html#TYPEt">BatOptParse.Formatter.t</a>? => unit => <a href="BatOptParse.OptParser.html#TYPEt">t</a></code></pre><div class="info ">
Creates a new option parser with the given options.<br>
<b>Returns</b> the new option parser.<br>
</div>
<div class="param_info"><code class="code">usage</code> : Usage message. The default is a reasonable usage
      message for most programs. Any occurrence of the substring
      <code class="code"><span class="string">"%prog"</span></code> in <code class="code">usage</code> is replaced with the name of the program
      (see <code class="code">prog</code>).</div>
<div class="param_info"><code class="code">version</code> : Version string. If set, a '--version' option is
      automatically added. When encountered on the command line it
      causes <code class="code">version</code> to be printed to the standard output and the
      program to exit.</div>
<div class="param_info"><code class="code">suppress_usage</code> : Suppress the usage message if set.</div>
<div class="param_info"><code class="code">suppress_help</code> : Suppress the 'help' option which is
      otherwise added by default.</div>
<div class="param_info"><code class="code">only_leading_opts</code> : Only consider leading options (options
      appearing before the first non-option argument). All arguments
      from the first non-option argument on are returned as the
      arguments.</div>
<div class="param_info"><code class="code">prog</code> : Program name. The default is the base name of the
      executable.</div>

<pre><span id="VALadd"><span class="keyword">let</span> add</span> : <code class="type"><a href="BatOptParse.OptParser.html#TYPEt">t</a> =><br>       group::<a href="BatOptParse.OptParser.html#TYPEgroup">group</a>? =><br>       help::string? =><br>       hide::bool? =><br>       short_name::char? =><br>       short_names::list char? =><br>       long_name::string? =><br>       long_names::list string? => <a href="BatOptParse.Opt.html#TYPEt">BatOptParse.Opt.t</a> 'a => unit</code></pre><div class="info ">
Add an option to the option parser.<br>
<b>Raises</b> <code>Option_conflict</code> if the short name(s) or long name(s)
      have alread been used for some other option.<br>
</div>
<div class="param_info"><code class="code">help</code> : Short help message describing the option (for the usage message).</div>
<div class="param_info"><code class="code">hide</code> : If true, hide the option from the usage
      message. This can be used to implement "secret" options which
      are not shown, but work just the same as regular options in all
      other respects.</div>
<div class="param_info"><code class="code">short_name</code> : is the name for the short form of the option
      (e.g. <code class="code"><span class="string">'x'</span></code> means that the option is invoked with <code class="code">-x</code> on the
      command line).</div>
<div class="param_info"><code class="code">short_names</code> : is a list of names for the short form of the
      option (see <code class="code">short_name</code>).</div>
<div class="param_info"><code class="code">long_name</code> : is the name for the long form of the option
      (e.g. <code class="code"><span class="string">"xyzzy"</span></code> means that the option is invoked with <code class="code">--xyzzy</code>
      on the command line).</div>
<div class="param_info"><code class="code">long_names</code> : is a list of names for the long form of the
      option (see <code class="code">long_name</code>).</div>

<pre><span id="VALadd_group"><span class="keyword">let</span> add_group</span> : <code class="type"><a href="BatOptParse.OptParser.html#TYPEt">t</a> =><br>       parent::<a href="BatOptParse.OptParser.html#TYPEgroup">group</a>? =><br>       description::string? => string => <a href="BatOptParse.OptParser.html#TYPEgroup">group</a></code></pre><div class="info ">
Add a group to the option parser.<br>
<b>Returns</b> the new group.<br>
</div>
<div class="param_info"><code class="code">parent</code> : is the parent group (if any).</div>
<div class="param_info"><code class="code">description</code> : is a description of the group.</div>
<br>
<h6 id="6_Outputanderrorhandling">Output and error handling</h6><br>

<pre><span id="VALerror"><span class="keyword">let</span> error</span> : <code class="type"><a href="BatOptParse.OptParser.html#TYPEt">t</a> =><br>       chn::Pervasives.out_channel? => status::int? => string => unit</code></pre><div class="info ">
Display an error message and exit the program. The error
      message is printed to the channel <code class="code">chn</code> (default is
      <code class="code"><span class="constructor">Pervasives</span>.stderr</code>) and the program exits with exit status
      <code class="code">status</code> (default is 1).<br>
</div>

<pre><span id="VALusage"><span class="keyword">let</span> usage</span> : <code class="type"><a href="BatOptParse.OptParser.html#TYPEt">t</a> => chn::Pervasives.out_channel? => unit => unit</code></pre><div class="info ">
Display the usage message to the channel <code class="code">chn</code> (default is
      <code class="code"><span class="constructor">Pervasives</span>.stdout</code>) and return.<br>
</div>
<br>
<h6 id="6_Optionparsing">Option parsing</h6><br>

<pre><span id="VALparse"><span class="keyword">let</span> parse</span> : <code class="type"><a href="BatOptParse.OptParser.html#TYPEt">t</a> =><br>       first::int? => last::int? => array string => list string</code></pre><div class="info ">
Parse arguments as if the arguments <code class="code">args.(first)</code>,
      <code class="code">args.(first+1)</code>, ..., <code class="code">args.(last)</code> had been given on the
      command line. By default <code class="code">first</code> is 0 and <code class="code">last</code> is the index
      of the last element of the array.<br>
</div>

<pre><span id="VALparse_argv"><span class="keyword">let</span> parse_argv</span> : <code class="type"><a href="BatOptParse.OptParser.html#TYPEt">t</a> => list string</code></pre><div class="info ">
Parse all the arguments in <code class="code"><span class="constructor">Sys</span>.argv</code>.<br>
</div>
</body></html>